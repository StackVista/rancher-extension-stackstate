{"version":3,"sources":["webpack://observability-0.2.1/./components/Health/HealthDisc.vue?c63f","webpack://observability-0.2.1/./components/Health/HealthState.vue?c4d2","webpack://observability-0.2.1/./components/Health/HealthState.vue?8f24","webpack://observability-0.2.1/./components/Health/HealthDisc.vue?8b72","webpack://observability-0.2.1/./components/ObservabilityClusterCard.vue?5b53","webpack://observability-0.2.1/./components/Health/HealthState.vue","webpack://observability-0.2.1/components/Health/HealthState.vue","webpack://observability-0.2.1/./components/Health/HealthState.vue?54e3","webpack://observability-0.2.1/./components/Health/HealthState.vue?eb5b","webpack://observability-0.2.1//home/runner/work/rancher-extension-stackstate/rancher-extension-stackstate/node_modules/@vue/cli-service/node_modules/css-loader/dist/runtime/getUrl.js","webpack://observability-0.2.1/./components/ObservabilityClusterCard.vue","webpack://observability-0.2.1/./components/Health/HealthDisc.vue","webpack://observability-0.2.1/components/Health/HealthDisc.vue","webpack://observability-0.2.1/./components/Health/HealthDisc.vue?5d32","webpack://observability-0.2.1/./components/Health/HealthDisc.vue?ca26","webpack://observability-0.2.1/components/ObservabilityClusterCard.vue","webpack://observability-0.2.1/./components/ObservabilityClusterCard.vue?967c","webpack://observability-0.2.1/./components/ObservabilityClusterCard.vue?3674","webpack://observability-0.2.1/./components/Health/HealthDisc.vue?50b0","webpack://observability-0.2.1/./components/ObservabilityClusterCard.vue?dc42","webpack://observability-0.2.1/./modules/observed.ts","webpack://observability-0.2.1/./components/ObservabilityClusterCard.vue?4112","webpack://observability-0.2.1/./components/Health/HealthState.vue?5aa8"],"names":["content","__esModule","default","module","i","locals","exports","add","___CSS_LOADER_API_IMPORT___","push","render","_vm","this","_c","_self","class","badgeColor","_v","_s","state","staticRenderFns","name","props","type","String","HEALTH_STATE_TYPES","UNKNOWN","color","computed","CLEAR","DEVIATING","CRITICAL","NOT_MONITORED","component","url","options","test","slice","hash","needQuotes","concat","replace","staticClass","$fetchState","pending","t","isConfigured","isObserved","attrs","chartRoute","countDeviating","countCritical","extensionDashboardRoute","components","HealthState","HealthDisc","resource","Object","required","deviating","countHealthy","healthy","critical","observed","length","_this$resource","params","FROM_CLUSTER","id","query","REPO_TYPE","REPO","CHART","data","snapshot","undefined","OBSERVABILITY_PRODUCT_NAME","BLANK_CLUSTER","isMissingCrd","isCrdLoaded","$store","creds","loadStackStateSettings","obs","isStackStateObserved","getSnapshot","spec","displayName","viewSnapshotResponse","healthState","async","store","clusterId","_response$data","response","dispatch","filter","depl","_depl$metadata","metadata","labels","___CSS_LOADER_GET_URL_IMPORT___","___CSS_LOADER_URL_IMPORT_0___","___CSS_LOADER_URL_REPLACEMENT_0___"],"mappings":"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","file":"observability-0.2.1.umd.min.3.js","sourcesContent":["// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../node_modules/sass-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./HealthDisc.vue?vue&type=style&index=0&id=5be2562a&prod&lang=scss&scoped=true\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"5e330108\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","export * from \"-!../../../../node_modules/vue-style-loader/index.js??ref--10-oneOf-1-0!../../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../node_modules/sass-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./HealthState.vue?vue&type=style&index=0&id=52b3cd62&prod&lang=scss&scoped=true\"","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".healthstate-green[data-v-52b3cd62]{color:#2b9e40;border-color:#2b9e40}.healthstate-orange[data-v-52b3cd62]{color:#ff8a1e;border-color:#ff8a1e}.healthstate-red[data-v-52b3cd62]{border-color:#eb5757;color:#eb5757}.healthstate-grey[data-v-52b3cd62]{border-color:#878e98;color:#878e98}.healthstate-green[data-v-52b3cd62],.healthstate-grey[data-v-52b3cd62],.healthstate-orange[data-v-52b3cd62],.healthstate-red[data-v-52b3cd62]{display:inline-block;border-width:1px;border-style:solid;border-radius:20px;padding:2px 10px;height:21px;line-height:16px;text-transform:uppercase;font-size:.75rem;letter-spacing:.3px;font-weight:500}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".healthdisc-CLEAR[data-v-5be2562a]{background-color:#2b9e40}.healthdisc-DEVIATING[data-v-5be2562a]{background-color:#ff8a1e}.healthdisc-CRITICAL[data-v-5be2562a]{background-color:#eb5757}.healthdisc-UNKNOWN[data-v-5be2562a]{background-color:#878e98}.healthdisc-CLEAR[data-v-5be2562a],.healthdisc-CRITICAL[data-v-5be2562a],.healthdisc-DEVIATING[data-v-5be2562a],.healthdisc-UNKNOWN[data-v-5be2562a]{display:inline-block;box-sizing:border-box;border-radius:9999px;width:8px;height:8px}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../node_modules/sass-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./ObservabilityClusterCard.vue?vue&type=style&index=0&id=0fd487e1&prod&lang=scss&scoped=true\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"7585bae3\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('span',[_c('div',{class:`healthstate-${_vm.badgeColor}`},[_c('span',[_vm._v(_vm._s(_vm.state))])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport { HEALTH_STATE_TYPES } from '../../types/types';\n\nexport default {\n  name:  'HealthState',\n  props: {\n    state: { type: String, default: HEALTH_STATE_TYPES.UNKNOWN },\n    color: { type: String, default: null },\n  },\n\n  computed: {\n    badgeColor() {\n      if (this.color) {\n        return this.color;\n      } else {\n        switch (this.state) {\n        case HEALTH_STATE_TYPES.CLEAR:\n          return 'green';\n        case HEALTH_STATE_TYPES.DEVIATING:\n          return 'orange';\n        case HEALTH_STATE_TYPES.CRITICAL:\n          return 'red';\n        case HEALTH_STATE_TYPES.UNKNOWN:\n        case HEALTH_STATE_TYPES.NOT_MONITORED:\n          return 'grey';\n        }\n      }\n\n      return this.state;\n    },\n  },\n};\n</script>\n<template>\n  <span>\n    <div :class=\"`healthstate-${badgeColor}`\">\n      <span>{{ state }}</span>\n    </div>\n  </span>\n</template>\n\n<style lang=\"scss\" scoped>\n.healthstate-green {\n  color: rgb(43, 158, 64);\n  border-color: rgb(43, 158, 64);\n}\n\n.healthstate-orange {\n  color: rgb(255, 138, 30);\n  border-color: rgb(255, 138, 30);\n}\n\n.healthstate-red {\n  border-color: rgb(235, 87, 87);\n  color: rgb(235, 87, 87);\n}\n\n.healthstate-grey {\n  border-color: rgb(135, 142, 152);\n  color: rgb(135, 142, 152);\n}\n\n.healthstate-orange,\n.healthstate-red,\n.healthstate-grey,\n.healthstate-green {\n  display: inline-block;\n  border-width: 1px;\n  border-style: solid;\n  border-radius: 20px;\n  padding: 2px 10px;\n  height: 21px;\n  line-height: 16px;\n  text-transform: uppercase;\n  font-size: 0.75rem;\n  letter-spacing: 0.3px;\n  font-weight: 500;\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./HealthState.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./HealthState.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./HealthState.vue?vue&type=template&id=52b3cd62&scoped=true\"\nimport script from \"./HealthState.vue?vue&type=script&lang=js\"\nexport * from \"./HealthState.vue?vue&type=script&lang=js\"\nimport style0 from \"./HealthState.vue?vue&type=style&index=0&id=52b3cd62&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"52b3cd62\",\n  null\n  \n)\n\nexport default component.exports","\"use strict\";\n\nmodule.exports = function (url, options) {\n  if (!options) {\n    // eslint-disable-next-line no-param-reassign\n    options = {};\n  } // eslint-disable-next-line no-underscore-dangle, no-param-reassign\n\n\n  url = url && url.__esModule ? url.default : url;\n\n  if (typeof url !== 'string') {\n    return url;\n  } // If url is already wrapped in quotes, remove them\n\n\n  if (/^['\"].*['\"]$/.test(url)) {\n    // eslint-disable-next-line no-param-reassign\n    url = url.slice(1, -1);\n  }\n\n  if (options.hash) {\n    // eslint-disable-next-line no-param-reassign\n    url += options.hash;\n  } // Should url be wrapped?\n  // See https://drafts.csswg.org/css-values-3/#urls\n\n\n  if (/[\"'() \\t\\n]/.test(url) || options.needQuotes) {\n    return \"\\\"\".concat(url.replace(/\"/g, '\\\\\"').replace(/\\n/g, '\\\\n'), \"\\\"\");\n  }\n\n  return url;\n};","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"stackstate-card\"},[_c('div',{staticClass:\"logo\"}),_c('div',{staticClass:\"stackstate-card-content\"},[(_vm.$fetchState.pending)?_c('p',[_vm._v(\" \"+_vm._s(_vm.t(\"observability.clusterCard.connecting\"))+\" \")]):(!_vm.isConfigured)?_c('div',{staticClass:\"flex-text\"},[_c('p',[_vm._v(_vm._s(_vm.t('observability.clusterCard.notConnectedPrepend')))]),_c('router-link',{attrs:{\"to\":_vm.extensionDashboardRoute}},[_vm._v(\" \"+_vm._s(_vm.t('observability.clusterCard.notConnectedObservability'))+\" \")])],1):(_vm.isConfigured && !_vm.isObserved)?_c('div',[_c('p',{staticClass:\"mb-20\"},[_vm._v(\" \"+_vm._s(_vm.t(\"observability.clusterCard.clusterIs\"))+\" \"),_c('HealthState',{staticClass:\"state-badge\",attrs:{\"state\":\"unobserved\",\"color\":\"grey\"}})],1),_c('div',{staticClass:\"flex-text\"},[_c('p',[_vm._v(_vm._s(_vm.t('observability.clusterCard.notObservedPrepend')))]),_c('router-link',{attrs:{\"to\":_vm.chartRoute}},[_vm._v(\" \"+_vm._s(_vm.t('observability.clusterCard.notObservedInstall'))+\" \")]),_c('p',[_vm._v(_vm._s(_vm.t('observability.clusterCard.notObservedPostpend')))])],1)]):_c('div',[_c('p',{staticClass:\"mb-20\"},[_vm._v(\" \"+_vm._s(_vm.t(\"observability.clusterCard.clusterHealth\"))+\" \"),_c('HealthState',{attrs:{\"state\":\"observed\",\"color\":\"green\"}})],1),_c('div',[_c('p',[_vm._v(_vm._s(_vm.t(\"observability.clusterCard.componentsHealth\")))]),_c('p',[_c('HealthDisc',{attrs:{\"state\":_vm.HEALTH_STATE_TYPES.DEVIATING}}),_vm._v(\" \"+_vm._s(_vm.t(\"observability.clusterCard.deviating\"))+\" \"),_c('span',{staticClass:\"item-count\"},[_vm._v(_vm._s(_vm.countDeviating))])],1),_c('p',[_c('HealthDisc',{attrs:{\"state\":_vm.HEALTH_STATE_TYPES.CRITICAL}}),_vm._v(\" \"+_vm._s(_vm.t(\"observability.clusterCard.critical\"))+\" \"),_c('span',{staticClass:\"item-count\"},[_vm._v(_vm._s(_vm.countCritical))])],1)])])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{class:`healthdisc-${_vm.state}`})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport { HEALTH_STATE_TYPES } from '../../types/types';\n\nexport default {\n  name:  'HealthDisc',\n  props: { state: { type: String, default: HEALTH_STATE_TYPES.UNKNOWN } },\n};\n</script>\n<template>\n  <div :class=\"`healthdisc-${state}`\" />\n</template>\n<style lang=\"scss\" scoped>\n.healthdisc-CLEAR {\n  background-color: rgb(43, 158, 64);\n}\n.healthdisc-DEVIATING {\n  background-color: rgb(255, 138, 30);\n}\n.healthdisc-CRITICAL {\n  background-color: rgb(235, 87, 87);\n}\n.healthdisc-UNKNOWN {\n  background-color: rgb(135, 142, 152);\n}\n\n.healthdisc-CLEAR,\n.healthdisc-DEVIATING,\n.healthdisc-CRITICAL,\n.healthdisc-UNKNOWN {\n  display: inline-block;\n  box-sizing: border-box;\n  border-radius: 9999px;\n  width: 8px;\n  height: 8px;\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./HealthDisc.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./HealthDisc.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./HealthDisc.vue?vue&type=template&id=5be2562a&scoped=true\"\nimport script from \"./HealthDisc.vue?vue&type=script&lang=js\"\nexport * from \"./HealthDisc.vue?vue&type=script&lang=js\"\nimport style0 from \"./HealthDisc.vue?vue&type=style&index=0&id=5be2562a&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5be2562a\",\n  null\n  \n)\n\nexport default component.exports","<script>\nimport {\n  REPO_TYPE,\n  REPO,\n  CHART,\n  FROM_CLUSTER,\n} from '@shell/config/query-params';\nimport {\n  getSnapshot,\n  loadStackStateSettings,\n  isCrdLoaded,\n} from '../modules/stackstate';\nimport { isStackStateObserved } from '../modules/observed';\nimport { HEALTH_STATE_TYPES, OBSERVABILITY_PRODUCT_NAME, BLANK_CLUSTER } from '../types/types';\nimport HealthState from './Health/HealthState.vue';\nimport HealthDisc from './Health/HealthDisc.vue';\n\nexport default {\n  name:       'ObservabilityClusterCard',\n  components: { HealthState, HealthDisc },\n  props:      {\n    resource: {\n      type:     Object,\n      required: true,\n    }\n  },\n  computed:   {\n    countDeviating() {\n      return this.deviating;\n    },\n    countHealthy() {\n      return this.healthy;\n    },\n    countCritical() {\n      return this.critical;\n    },\n    isObserved() {\n      return this.observed.length > 0;\n    },\n    chartRoute() {\n      return {\n        name:   'c-cluster-apps-charts-chart',\n        params: { [FROM_CLUSTER]: this.resource?.id },\n        query:  {\n          [REPO_TYPE]: 'cluster',\n          [REPO]:      'rancher-partner-charts',\n          [CHART]:     'stackstate-k8s-agent',\n        }\n      };\n    }\n  },\n  data() {\n    return {\n      observed:                [],\n      snapshot:                undefined,\n      deviating:               0,\n      critical:                0,\n      healthy:                 0,\n      isConfigured:            true,\n      HEALTH_STATE_TYPES,\n      extensionDashboardRoute: {\n        name:   `${ OBSERVABILITY_PRODUCT_NAME }-c-cluster-dashboard`,\n        params: { [FROM_CLUSTER]: BLANK_CLUSTER },\n      }\n    };\n  },\n  async fetch() {\n    this.isMissingCrd = !isCrdLoaded(this.$store);\n    if (this.isMissingCrd) {\n      this.isConfigured = false;\n\n      return;\n    }\n\n    const creds = await loadStackStateSettings(this.$store);\n\n    if (!creds) {\n      this.isConfigured = false;\n\n      return;\n    }\n\n    const obs = await isStackStateObserved(this.$store, this.resource.id);\n\n    if (!obs) {\n      return;\n    }\n\n    this.snapshot = await getSnapshot(\n      this.$store,\n      `not healthstate in (\"CLEAR\", \"UNKNOWN\") AND label = \"cluster-name:${ this.resource.spec.displayName }\"`,\n      creds\n    );\n    for (const component of this.snapshot.viewSnapshotResponse.components) {\n      if (component.state.healthState === 'DEVIATING') {\n        this.deviating++;\n      } else if (component.state.healthState === 'CRITICAL') {\n        this.critical++;\n      } else if (component.state.healthState === 'HEALTHY') {\n        this.healthy++;\n      }\n    }\n    this.observed = obs;\n  },\n};\n</script>\n<template>\n  <div class=\"stackstate-card\">\n    <div class=\"logo\" />\n    <div class=\"stackstate-card-content\">\n      <p v-if=\"$fetchState.pending\">\n        {{ t(\"observability.clusterCard.connecting\") }}\n      </p>\n      <div\n        v-else-if=\"!isConfigured\"\n        class=\"flex-text\"\n      >\n        <p>{{ t('observability.clusterCard.notConnectedPrepend') }}</p>\n        <router-link :to=\"extensionDashboardRoute\">\n          {{ t('observability.clusterCard.notConnectedObservability') }}\n        </router-link>\n      </div>\n      <div v-else-if=\"isConfigured && !isObserved\">\n        <p class=\"mb-20\">\n          {{ t(\"observability.clusterCard.clusterIs\") }}\n          <HealthState class=\"state-badge\" state=\"unobserved\" color=\"grey\" />\n        </p>\n        <div class=\"flex-text\">\n          <p>{{ t('observability.clusterCard.notObservedPrepend') }}</p>\n          <router-link :to=\"chartRoute\">\n            {{ t('observability.clusterCard.notObservedInstall') }}\n          </router-link>\n          <p>{{ t('observability.clusterCard.notObservedPostpend') }}</p>\n        </div>\n      </div>\n      <div v-else>\n        <p class=\"mb-20\">\n          {{ t(\"observability.clusterCard.clusterHealth\") }}\n          <HealthState state=\"observed\" color=\"green\" />\n        </p>\n        <div>\n          <p>{{ t(\"observability.clusterCard.componentsHealth\") }}</p>\n          <p>\n            <HealthDisc :state=\"HEALTH_STATE_TYPES.DEVIATING\" />\n            {{ t(\"observability.clusterCard.deviating\") }}\n            <span class=\"item-count\">{{ countDeviating }}</span>\n          </p>\n          <p>\n            <HealthDisc :state=\"HEALTH_STATE_TYPES.CRITICAL\" />\n            {{ t(\"observability.clusterCard.critical\") }}\n            <span class=\"item-count\">{{ countCritical }}</span>\n          </p>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n<style lang=\"scss\" scoped>\n.stackstate-card {\n  line-height: 19px;\n  font-size: 14px;\n  align-items: center;\n  display: flex;\n  margin-top: 30px;\n\n  .logo {\n    background-size: contain;\n    background-repeat: no-repeat;\n    width: 100px;\n    height: 100px;\n    margin-right: 16px;\n    background-image: url(\"../rancher-observability.svg\");\n  }\n\n  .stackstate-card-content {\n    display: flex;\n    flex-direction: column;\n\n    .state-badge {\n      margin-left: 6px;\n    }\n\n    .flex-text {\n      display: flex;\n\n      a {\n        margin: 0 3px;\n      }\n    }\n\n    .item-count {\n      margin-left: 8px;\n    }\n  }\n}\n\n.theme-dark div.logo {\n  background-image: url(\"../rancher-observability.svg\");\n  filter: invert(1);\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./ObservabilityClusterCard.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./ObservabilityClusterCard.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./ObservabilityClusterCard.vue?vue&type=template&id=0fd487e1&scoped=true\"\nimport script from \"./ObservabilityClusterCard.vue?vue&type=script&lang=js\"\nexport * from \"./ObservabilityClusterCard.vue?vue&type=script&lang=js\"\nimport style0 from \"./ObservabilityClusterCard.vue?vue&type=style&index=0&id=0fd487e1&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0fd487e1\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../node_modules/vue-style-loader/index.js??ref--10-oneOf-1-0!../../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../node_modules/sass-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./HealthDisc.vue?vue&type=style&index=0&id=5be2562a&prod&lang=scss&scoped=true\"","export * from \"-!../../../node_modules/vue-style-loader/index.js??ref--10-oneOf-1-0!../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../node_modules/sass-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./ObservabilityClusterCard.vue?vue&type=style&index=0&id=0fd487e1&prod&lang=scss&scoped=true\"","export async function isStackStateObserved(\n  store: any,\n  clusterId: string\n): Promise<any> {\n  const response = await store.dispatch(`cluster/request`, { url: `/k8s/clusters/${ clusterId }/v1/apps.deployments` });\n\n  return response?.data?.filter(\n    (depl: any) => depl.metadata?.labels &&\n      depl.metadata.labels['app.kubernetes.io/name'] === 'stackstate-k8s-agent'\n  );\n}\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_GET_URL_IMPORT___ = require(\"../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/runtime/getUrl.js\");\nvar ___CSS_LOADER_URL_IMPORT_0___ = require(\"../rancher-observability.svg\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\nvar ___CSS_LOADER_URL_REPLACEMENT_0___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_0___);\n// Module\nexports.push([module.id, \".stackstate-card[data-v-0fd487e1]{line-height:19px;font-size:14px;align-items:center;display:flex;margin-top:30px}.stackstate-card .logo[data-v-0fd487e1]{background-size:contain;background-repeat:no-repeat;width:100px;height:100px;margin-right:16px;background-image:url(\" + ___CSS_LOADER_URL_REPLACEMENT_0___ + \")}.stackstate-card .stackstate-card-content[data-v-0fd487e1]{display:flex;flex-direction:column}.stackstate-card .stackstate-card-content .state-badge[data-v-0fd487e1]{margin-left:6px}.stackstate-card .stackstate-card-content .flex-text[data-v-0fd487e1]{display:flex}.stackstate-card .stackstate-card-content .flex-text a[data-v-0fd487e1]{margin:0 3px}.stackstate-card .stackstate-card-content .item-count[data-v-0fd487e1]{margin-left:8px}.theme-dark div.logo[data-v-0fd487e1]{background-image:url(\" + ___CSS_LOADER_URL_REPLACEMENT_0___ + \");filter:invert(1)}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../node_modules/sass-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./HealthState.vue?vue&type=style&index=0&id=52b3cd62&prod&lang=scss&scoped=true\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"03d936a6\", content, true, {\"sourceMap\":false,\"shadowMode\":false});"],"sourceRoot":""}