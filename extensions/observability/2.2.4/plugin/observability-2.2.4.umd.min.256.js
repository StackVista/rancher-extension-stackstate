(("undefined"!==typeof self?self:this)["webpackChunkobservability_2_2_4"]=("undefined"!==typeof self?self:this)["webpackChunkobservability_2_2_4"]||[]).push([[256],{4172:function(e,t,a){"use strict";a.d(t,{A:function(){return c}});var r=a(9274);function o(e,t,a,o,n,s){return(0,r.openBlock)(),(0,r.createElementBlock)("span",{class:(0,r.normalizeClass)(`healthstate healthstate-${s.badgeColor}`)},(0,r.toDisplayString)(a.health??"LOADING"),3)}var n=a(4576),s={name:"HealthState",props:{health:{type:String,default:null},color:{type:String,default:null}},computed:{badgeColor(){if(this.color)return this.color;switch(this.health){case n.z6.CLEAR:return"green";case n.z6.DEVIATING:return"orange";case n.z6.CRITICAL:return"red";case n.z6.UNKNOWN:case n.z6.NOT_MONITORED:return"grey";default:return"skeleton"}}}},l=(a(1625),a(7433));const i=(0,l.A)(s,[["render",o],["__scopeId","data-v-191b2262"]]);var c=i},1256:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return w}});var r=a(9274);const o={key:0},n={class:"card"},s={key:1},l={class:"card"},i={key:2},c={class:"card"},d=["href"];function u(e,t,a,u,h,p){const m=(0,r.resolveComponent)("HealthState"),f=(0,r.resolveComponent)("LiveDate"),b=(0,r.resolveComponent)("SortableTable");return h.observationStatus===h.ObservationStatus.NotDeployed?((0,r.openBlock)(),(0,r.createElementBlock)("div",o,[(0,r.createElementVNode)("div",n,[(0,r.createElementVNode)("span",null,(0,r.toDisplayString)(e.t("components.monitorTab.notEnabled")),1)])])):h.observationStatus===h.ObservationStatus.ConnectionError?((0,r.openBlock)(),(0,r.createElementBlock)("div",s,[(0,r.createElementVNode)("div",l,[(0,r.createElementVNode)("span",null,(0,r.toDisplayString)(e.t("components.monitorTab.connectionError")),1)])])):p.hasMonitors?((0,r.openBlock)(),(0,r.createBlock)(b,{key:3,rows:h.monitors,headers:h.MONITOR_HEADERS,"table-actions":!1,"row-actions":!1,"key-field":"checkStateId","default-sort-by":"state",paging:!0,"rows-per-page":40},{"col:state":(0,r.withCtx)((({row:e})=>[(0,r.createElementVNode)("td",null,[(0,r.createVNode)(m,{health:e.health},null,8,["health"])])])),"col:monitor":(0,r.withCtx)((({row:e})=>[(0,r.createElementVNode)("td",null,[(0,r.createElementVNode)("a",{href:`${h.url}/#/components/${encodeURIComponent(h.urn)}`,target:"_blank",rel:"nofollow noopener noreferrer"},(0,r.toDisplayString)(e.name),9,d)])])),"col:lastUpdate":(0,r.withCtx)((({row:e})=>[(0,r.createElementVNode)("td",null,[(0,r.createVNode)(f,{value:e.lastUpdateTimestamp},null,8,["value"])])])),_:1},8,["rows","headers"])):((0,r.openBlock)(),(0,r.createElementBlock)("div",i,[(0,r.createElementVNode)("div",c,[(0,r.createElementVNode)("span",null,(0,r.toDisplayString)(e.t("components.monitorTab.noMonitors")),1)])]))}var h=a(5359),p=a(6501),m=a(2027),f=a(7272),b=a(275),v=a(4172),g={name:"MonitorTab",components:{SortableTable:m.A,HealthState:v.A,LiveDate:p.A},props:{resource:{type:Object,required:!0}},data(){return{MONITOR_HEADERS:b.w,observationStatus:f.pX.Observed,ObservationStatus:f.pX,urn:"",url:"",monitors:[],currResourceData:void 0}},computed:{...(0,h.L8)(["currentCluster"]),clusterId(){return this.currentCluster?.id},hasMonitors(){return this.monitors?.length>0},componentIdentifier(){const e=this.currentCluster?.spec.displayName;if(!e)return"";let t=`urn:kubernetes:/${e}`;const a=this.resource?.metadata?this.resource:this.currResourceData;return a?.metadata?.namespace&&(t+=`:${a.metadata.namespace}`),t+=`:${(0,f.Di)(a?.type?.toLowerCase())}/${a?.metadata?.name}`,t}},async fetch(){if(!(0,f.Fg)(this.$store))return;if(!this.resource?.metadata){const e=this.$route?.params?.resource,t=this.$route?.params?.namespace,a=this.$route?.params?.id,r=t?`${t}/${a}`:a;this.currResourceData=await this.$store.dispatch("cluster/find",{type:e,id:r})}const e=await(0,f.$8)(this.$store);this.urn=this.componentIdentifier;const t=await(0,f.of)(this.$store,e,this.urn);t?(this.monitors=t.syncedCheckStates,this.url=e.url):this.observationStatus=await(0,f.ZT)(this.$store,this.clusterId,e)}},y=(a(5057),a(7433));const k=(0,y.A)(g,[["render",u],["__scopeId","data-v-49a2739e"]]);var w=k},8489:function(e,t,a){"use strict";a.r(t);var r=a(6758),o=a.n(r),n=a(6173),s=a.n(n),l=s()(o());l.push([e.id,".healthstate-green[data-v-191b2262]{color:#2b9e40}.healthstate-orange[data-v-191b2262]{color:#ff8a1e}.healthstate-red[data-v-191b2262]{color:#eb5757}.healthstate-grey[data-v-191b2262]{color:#878e98}.healthstate-skeleton[data-v-191b2262]{cursor:wait;color:#d9d9d9;background-color:transparent}.healthstate[data-v-191b2262]{display:inline-block;border-width:1px;border-style:solid;border-radius:20px;padding:2px 10px;height:21px;line-height:16px;text-transform:uppercase;font-size:.75rem;letter-spacing:.3px;font-weight:500}",""]),t["default"]=l},6433:function(e,t,a){"use strict";a.r(t);var r=a(6758),o=a.n(r),n=a(6173),s=a.n(n),l=s()(o());l.push([e.id,"div.card[data-v-49a2739e]{line-height:19px;font-size:14px;align-items:center;display:flex}span.spacer[data-v-49a2739e]{margin-left:4px}",""]),t["default"]=l},1625:function(e,t,a){var r=a(8489);r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals);var o=a(4825).A;o("5f9be000",r,!0,{sourceMap:!1,shadowMode:!1})},5057:function(e,t,a){var r=a(6433);r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals);var o=a(4825).A;o("f1b88bd2",r,!0,{sourceMap:!1,shadowMode:!1})}}]);
//# sourceMappingURL=observability-2.2.4.umd.min.256.js.map