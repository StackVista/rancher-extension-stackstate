{"version":3,"file":"observability-2.2.4.umd.min.835.js","mappings":"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","sources":["webpack://observability-2.2.4/./modules/urn.ts","webpack://observability-2.2.4/./components/ComponentHealth.vue","webpack://observability-2.2.4/./components/ComponentHealth.vue?9dd6","webpack://observability-2.2.4/./components/Health/HealthState.vue","webpack://observability-2.2.4/./components/Health/HealthState.vue?e2ab","webpack://observability-2.2.4/./components/ComponentHealth.vue?212e","webpack://observability-2.2.4/./components/Health/HealthState.vue?6003","webpack://observability-2.2.4/./components/ComponentHealth.vue?54db","webpack://observability-2.2.4/./components/Health/HealthState.vue?ef16"],"sourcesContent":["import {\n  mapKind, STS_CLUSTER,\n  STS_NAMESPACE,\n  STS_NODE\n} from './suseObservability';\n\nexport function buildUrn(component: any, clusterName: string | undefined): string | undefined {\n  if (!component.type) {\n    return undefined;\n  }\n\n  const kind = mapKind(component.type.toLowerCase());\n\n  if (!clusterName) {\n    throw new Error(`Cluster name is required for ${ kind } URN`);\n  }\n\n  const namespace = component.metadata?.namespace;\n  const name = component.metadata?.name || component.name;\n\n  switch (kind) {\n  case STS_CLUSTER:\n    return `urn:cluster:/${ clusterName }`;\n  case STS_NODE:\n    return `urn:kubernetes:/${ clusterName }:node/${ name }`;\n  case STS_NAMESPACE:\n    return `urn:kubernetes:/${ clusterName }:namespace/${ name }`;\n  default:\n    return `urn:kubernetes:/${ clusterName }:${ namespace }:${ kind }/${ name }`;\n  }\n}\n","<script>\nimport { mapGetters } from 'vuex';\nimport { isCrdLoaded, loadComponent, loadSuseObservabilitySettings } from '../modules/suseObservability';\nimport { buildUrn } from '../modules/urn';\nimport { HEALTH_STATE_TYPES } from '../types/types';\nimport HealthState from './Health/HealthState.vue';\n\nexport default {\n  name:       'ComponentHealth',\n  components: { HealthState },\n  props:      {\n    resource: {\n      type:     Object,\n      required: true,\n    }\n  },\n  data() {\n    return {\n      health:   HEALTH_STATE_TYPES.UNKNOWN,\n      urn:      '',\n    };\n  },\n  computed: {\n    ...mapGetters(['currentCluster']),\n\n    clusterId() {\n      return this.currentCluster?.id;\n    },\n\n    componentIdentifier() {\n      const cluster = this.currentCluster?.spec.displayName;\n\n      return buildUrn(this.resource, cluster);\n    },\n  },\n  async fetch() {\n    if (!isCrdLoaded(this.$store)) {\n      return;\n    }\n\n    const settings = await loadSuseObservabilitySettings(this.$store);\n\n    this.urn = this.componentIdentifier;\n    if (!this.urn || !settings) {\n      return;\n    }\n\n    const component = await loadComponent(this.$store, settings, this.urn);\n    this.health = component.state.healthState;\n  },\n};\n</script>\n<template>\n  <div class=\"health-block\">\n    <p>{{ t(\"components.componentHealth.title\") }}</p>\n    <HealthState class=\"health-state-block\" :health=\"health\" />\n  </div>\n</template>\n<style lang=\"scss\" scoped>\n.health-block {\n  line-height: 19px;\n  font-size: 14px;\n  align-items: center;\n  display: flex;\n\n  .health-state-block {\n    margin-left: 12px;\n  }\n}\n</style>\n","import { render } from \"./ComponentHealth.vue?vue&type=template&id=5601684c&scoped=true\"\nimport script from \"./ComponentHealth.vue?vue&type=script&lang=js\"\nexport * from \"./ComponentHealth.vue?vue&type=script&lang=js\"\n\nimport \"./ComponentHealth.vue?vue&type=style&index=0&id=5601684c&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-5601684c\"]])\n\nexport default __exports__","<script>\nimport { HEALTH_STATE_TYPES } from '../../types/types';\n\nexport default {\n  name:  'HealthState',\n  props: {\n    health: { type: String, default: null },\n    color:  { type: String, default: null },\n  },\n\n  computed: {\n    badgeColor() {\n      if (this.color) {\n        return this.color;\n      }\n\n      switch (this.health) {\n      case HEALTH_STATE_TYPES.CLEAR:\n        return 'green';\n      case HEALTH_STATE_TYPES.DEVIATING:\n        return 'orange';\n      case HEALTH_STATE_TYPES.CRITICAL:\n        return 'red';\n      case HEALTH_STATE_TYPES.UNKNOWN:\n      case HEALTH_STATE_TYPES.NOT_MONITORED:\n        return 'grey';\n      default:\n        return 'skeleton';\n      }\n    },\n  },\n};\n</script>\n<template>\n  <span :class=\"`healthstate healthstate-${badgeColor}`\">\n    {{ health ?? \"LOADING\" }}\n  </span>\n</template>\n\n<style lang=\"scss\" scoped>\n.healthstate-green {\n  color: rgb(43, 158, 64);\n}\n\n.healthstate-orange {\n  color: rgb(255, 138, 30);\n}\n\n.healthstate-red {\n  color: rgb(235, 87, 87);\n}\n\n.healthstate-grey {\n  color: rgb(135, 142, 152);\n}\n\n.healthstate-skeleton {\n  cursor: wait;\n  color: rgb(217, 217, 217);\n  background-color: transparent;\n}\n\n.healthstate {\n  display: inline-block;\n  border-width: 1px;\n  border-style: solid;\n  border-radius: 20px;\n  padding: 2px 10px;\n  height: 21px;\n  line-height: 16px;\n  text-transform: uppercase;\n  font-size: 0.75rem;\n  letter-spacing: 0.3px;\n  font-weight: 500;\n}\n</style>\n","import { render } from \"./HealthState.vue?vue&type=template&id=191b2262&scoped=true\"\nimport script from \"./HealthState.vue?vue&type=script&lang=js\"\nexport * from \"./HealthState.vue?vue&type=script&lang=js\"\n\nimport \"./HealthState.vue?vue&type=style&index=0&id=191b2262&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-191b2262\"]])\n\nexport default __exports__","// Imports\nimport ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/noSourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".health-block[data-v-5601684c]{line-height:19px;font-size:14px;align-items:center;display:flex}.health-block .health-state-block[data-v-5601684c]{margin-left:12px}\", \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/noSourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".healthstate-green[data-v-191b2262]{color:#2b9e40}.healthstate-orange[data-v-191b2262]{color:#ff8a1e}.healthstate-red[data-v-191b2262]{color:#eb5757}.healthstate-grey[data-v-191b2262]{color:#878e98}.healthstate-skeleton[data-v-191b2262]{cursor:wait;color:#d9d9d9;background-color:transparent}.healthstate[data-v-191b2262]{display:inline-block;border-width:1px;border-style:solid;border-radius:20px;padding:2px 10px;height:21px;line-height:16px;text-transform:uppercase;font-size:.75rem;letter-spacing:.3px;font-weight:500}\", \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-23.use[1]!../../../node_modules/vue-loader/dist/stylePostLoader.js!../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-23.use[2]!../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-23.use[3]!../../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-23.use[4]!../../../node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[1]!./ComponentHealth.vue?vue&type=style&index=0&id=5601684c&lang=scss&scoped=true\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"79d55910\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-23.use[1]!../../../../node_modules/vue-loader/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-23.use[2]!../../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-23.use[3]!../../../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-23.use[4]!../../../../node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!../../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[1]!./HealthState.vue?vue&type=style&index=0&id=191b2262&lang=scss&scoped=true\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"5f9be000\", content, true, {\"sourceMap\":false,\"shadowMode\":false});"],"names":["buildUrn","component","clusterName","type","kind","mapKind","toLowerCase","Error","namespace","metadata","name","STS_CLUSTER","STS_NODE","STS_NAMESPACE","class","_createElementBlock","_hoisted_1","_createElementVNode","_toDisplayString","_ctx","t","_createVNode","_component_HealthState","health","$data","components","HealthState","props","resource","Object","required","data","HEALTH_STATE_TYPES","UNKNOWN","urn","computed","mapGetters","clusterId","this","currentCluster","id","componentIdentifier","cluster","spec","displayName","fetch","isCrdLoaded","$store","settings","loadSuseObservabilitySettings","loadComponent","state","healthState","__exports__","render","_normalizeClass","$options","badgeColor","$props","String","default","color","CLEAR","DEVIATING","CRITICAL","NOT_MONITORED","___CSS_LOADER_EXPORT___","push","module","content","__esModule","locals","exports","add"],"sourceRoot":""}