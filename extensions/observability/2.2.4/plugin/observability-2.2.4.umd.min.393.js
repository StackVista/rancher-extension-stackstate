(("undefined"!==typeof self?self:this)["webpackChunkobservability_2_2_4"]=("undefined"!==typeof self?self:this)["webpackChunkobservability_2_2_4"]||[]).push([[393],{4172:function(e,t,a){"use strict";a.d(t,{A:function(){return c}});var r=a(9274);function o(e,t,a,o,s,i){return(0,r.openBlock)(),(0,r.createElementBlock)("span",{class:(0,r.normalizeClass)(`healthstate healthstate-${i.badgeColor}`)},(0,r.toDisplayString)(a.health??"LOADING"),3)}var s=a(4576),i={name:"HealthState",props:{health:{type:String,default:null},color:{type:String,default:null}},computed:{badgeColor(){if(this.color)return this.color;switch(this.health){case s.z6.CLEAR:return"green";case s.z6.DEVIATING:return"orange";case s.z6.CRITICAL:return"red";case s.z6.UNKNOWN:case s.z6.NOT_MONITORED:return"grey";default:return"skeleton"}}}},l=(a(1625),a(7433));const n=(0,l.A)(i,[["render",o],["__scopeId","data-v-191b2262"]]);var c=n},6393:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return D}});var r=a(9274);const o=e=>((0,r.pushScopeId)("data-v-410c4ee6"),e=e(),(0,r.popScopeId)(),e),s={class:"observability-card"},i=o((()=>(0,r.createElementVNode)("div",{class:"logo"},null,-1))),l={class:"observability-card-content"},n={key:0},c={key:1,class:"flex-text"},d={key:2},u={class:"mb-20"},h={class:"flex-text"},b={key:3},p={class:"mb-20"},v={class:"item-count"},f={class:"item-count"};function g(e,t,a,o,g,y){const m=(0,r.resolveComponent)("router-link"),N=(0,r.resolveComponent)("HealthState"),C=(0,r.resolveComponent)("HealthDisc");return(0,r.openBlock)(),(0,r.createElementBlock)("div",s,[i,(0,r.createElementVNode)("div",l,[e.$fetchState.pending?((0,r.openBlock)(),(0,r.createElementBlock)("p",n,(0,r.toDisplayString)(e.t("observability.clusterCard.connecting")),1)):g.isConfigured&&g.observationStatus!==g.ObservationStatus.ConnectionError?g.isConfigured&&g.observationStatus===g.ObservationStatus.NotDeployed?((0,r.openBlock)(),(0,r.createElementBlock)("div",d,[(0,r.createElementVNode)("p",u,[(0,r.createTextVNode)((0,r.toDisplayString)(e.t("observability.clusterCard.clusterIs"))+" ",1),(0,r.createVNode)(N,{class:"state-badge",health:"unobserved",color:"grey"})]),(0,r.createElementVNode)("div",h,[(0,r.createElementVNode)("p",null,(0,r.toDisplayString)(e.t("observability.clusterCard.notObservedPrepend")),1),(0,r.createVNode)(m,{to:y.chartRoute},{default:(0,r.withCtx)((()=>[(0,r.createTextVNode)((0,r.toDisplayString)(e.t("observability.clusterCard.notObservedInstall")),1)])),_:1},8,["to"]),(0,r.createElementVNode)("p",null,(0,r.toDisplayString)(e.t("observability.clusterCard.notObservedPostpend")),1)])])):((0,r.openBlock)(),(0,r.createElementBlock)("div",b,[(0,r.createElementVNode)("p",p,[(0,r.createTextVNode)((0,r.toDisplayString)(e.t("observability.clusterCard.clusterHealth"))+" ",1),(0,r.createVNode)(N,{health:"observed",color:"green"})]),(0,r.createElementVNode)("div",null,[(0,r.createElementVNode)("p",null,(0,r.toDisplayString)(e.t("observability.clusterCard.componentsHealth")),1),(0,r.createElementVNode)("p",null,[(0,r.createVNode)(C,{health:g.HEALTH_STATE_TYPES.DEVIATING},null,8,["health"]),(0,r.createTextVNode)(" "+(0,r.toDisplayString)(e.t("observability.clusterCard.deviating"))+" ",1),(0,r.createElementVNode)("span",v,(0,r.toDisplayString)(y.countDeviating),1)]),(0,r.createElementVNode)("p",null,[(0,r.createVNode)(C,{health:g.HEALTH_STATE_TYPES.CRITICAL},null,8,["health"]),(0,r.createTextVNode)(" "+(0,r.toDisplayString)(e.t("observability.clusterCard.critical"))+" ",1),(0,r.createElementVNode)("span",f,(0,r.toDisplayString)(y.countCritical),1)])])])):((0,r.openBlock)(),(0,r.createElementBlock)("div",c,[(0,r.createElementVNode)("p",null,(0,r.toDisplayString)(e.t("observability.clusterCard.notConnectedPrepend")),1),(0,r.createVNode)(m,{to:g.extensionDashboardRoute},{default:(0,r.withCtx)((()=>[(0,r.createTextVNode)((0,r.toDisplayString)(e.t("observability.clusterCard.notConnectedObservability")),1)])),_:1},8,["to"])]))])])}var y=a(4220),m=a(7272),N=a(4576),C=a(4172);function x(e,t,a,o,s,i){return(0,r.openBlock)(),(0,r.createElementBlock)("div",{class:(0,r.normalizeClass)(`healthdisc-${a.health}`)},null,2)}var E={name:"HealthDisc",props:{health:{type:String,default:N.z6.UNKNOWN}}},S=(a(6107),a(7433));const k=(0,S.A)(E,[["render",x],["__scopeId","data-v-a55bfb62"]]);var V=k,T={name:"ObservabilityClusterCard",components:{HealthState:C.A,HealthDisc:V},props:{resource:{type:Object,required:!0}},computed:{countDeviating(){return this.deviating},countCritical(){return this.critical},chartRoute(){return{name:"c-cluster-apps-charts-chart",params:{[y.GK]:this.resource?.id},query:{[y.Eo]:"cluster",[y.NO]:"rancher-partner-charts",[y.RX]:"stackstate-k8s-agent"}}}},data(){return{observationStatus:m.pX.Observed,snapshot:void 0,deviating:0,critical:0,isConfigured:!0,HEALTH_STATE_TYPES:N.z6,ObservationStatus:m.pX,extensionDashboardRoute:{name:`${N.WQ}-c-cluster-dashboard`,params:{[y.GK]:N.wf}}}},async fetch(){if(this.isMissingCrd=!(0,m.Fg)(this.$store),this.isMissingCrd)return void(this.isConfigured=!1);const e=await(0,m.$8)(this.$store);if(e){this.observationStatus=await(0,m.ZT)(this.$store,this.resource.spec.displayName,e),this.snapshot=await(0,m.dV)(this.$store,`not healthstate in ("CLEAR", "UNKNOWN") AND label = "cluster-name:${this.resource.spec.displayName}"`,e);for(const e of this.snapshot.viewSnapshotResponse.components)"DEVIATING"===e.state.healthState?this.deviating++:"CRITICAL"===e.state.healthState&&this.critical++}else this.isConfigured=!1}};a(4053);const A=(0,S.A)(T,[["render",g],["__scopeId","data-v-410c4ee6"]]);var D=A},4539:function(e,t,a){"use strict";a.r(t);var r=a(6758),o=a.n(r),s=a(6173),i=a.n(s),l=i()(o());l.push([e.id,".healthdisc-CLEAR[data-v-a55bfb62]{background-color:#2b9e40}.healthdisc-DEVIATING[data-v-a55bfb62]{background-color:#ff8a1e}.healthdisc-CRITICAL[data-v-a55bfb62]{background-color:#eb5757}.healthdisc-UNKNOWN[data-v-a55bfb62]{background-color:#878e98}.healthdisc-CLEAR[data-v-a55bfb62],.healthdisc-CRITICAL[data-v-a55bfb62],.healthdisc-DEVIATING[data-v-a55bfb62],.healthdisc-UNKNOWN[data-v-a55bfb62]{display:inline-block;box-sizing:border-box;border-radius:9999px;width:8px;height:8px}",""]),t["default"]=l},8489:function(e,t,a){"use strict";a.r(t);var r=a(6758),o=a.n(r),s=a(6173),i=a.n(s),l=i()(o());l.push([e.id,".healthstate-green[data-v-191b2262]{color:#2b9e40}.healthstate-orange[data-v-191b2262]{color:#ff8a1e}.healthstate-red[data-v-191b2262]{color:#eb5757}.healthstate-grey[data-v-191b2262]{color:#878e98}.healthstate-skeleton[data-v-191b2262]{cursor:wait;color:#d9d9d9;background-color:transparent}.healthstate[data-v-191b2262]{display:inline-block;border-width:1px;border-style:solid;border-radius:20px;padding:2px 10px;height:21px;line-height:16px;text-transform:uppercase;font-size:.75rem;letter-spacing:.3px;font-weight:500}",""]),t["default"]=l},9573:function(e,t,a){"use strict";a.r(t);var r=a(6758),o=a.n(r),s=a(6173),i=a.n(s),l=a(62),n=a.n(l),c=new URL(a(9876),a.b),d=i()(o()),u=n()(c);d.push([e.id,".observability-card[data-v-410c4ee6]{line-height:19px;font-size:14px;align-items:center;display:flex;margin-top:30px}.observability-card .logo[data-v-410c4ee6]{background-size:contain;background-repeat:no-repeat;width:100px;height:100px;margin-right:16px;background-image:url("+u+")}.observability-card .observability-card-content[data-v-410c4ee6]{display:flex;flex-direction:column}.observability-card .observability-card-content .state-badge[data-v-410c4ee6]{margin-left:6px}.observability-card .observability-card-content .flex-text[data-v-410c4ee6]{display:flex}.observability-card .observability-card-content .flex-text a[data-v-410c4ee6]{margin:0 3px}.observability-card .observability-card-content .item-count[data-v-410c4ee6]{margin-left:8px}.theme-dark div.logo[data-v-410c4ee6]{background-image:url("+u+");filter:invert(1)}",""]),t["default"]=d},62:function(e){"use strict";e.exports=function(e,t){return t||(t={}),e?(e=String(e.__esModule?e.default:e),/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]|(%20)/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e):e}},6107:function(e,t,a){var r=a(4539);r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals);var o=a(4825).A;o("0fb3a772",r,!0,{sourceMap:!1,shadowMode:!1})},1625:function(e,t,a){var r=a(8489);r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals);var o=a(4825).A;o("5f9be000",r,!0,{sourceMap:!1,shadowMode:!1})},4053:function(e,t,a){var r=a(9573);r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals);var o=a(4825).A;o("636b4fea",r,!0,{sourceMap:!1,shadowMode:!1})}}]);
//# sourceMappingURL=observability-2.2.4.umd.min.393.js.map