(("undefined"!==typeof self?self:this)["webpackJsonpobservability_1_0_2"]=("undefined"!==typeof self?self:this)["webpackJsonpobservability_1_0_2"]||[]).push([[5],{"12c2":function(e,t,a){var r=a("3c10");t=r(!1),t.push([e.i,".healthstate-green[data-v-2ec76faa]{color:#2b9e40}.healthstate-orange[data-v-2ec76faa]{color:#ff8a1e}.healthstate-red[data-v-2ec76faa]{color:#eb5757}.healthstate-grey[data-v-2ec76faa]{color:#878e98}.healthstate-skeleton[data-v-2ec76faa]{cursor:wait;color:#d9d9d9;background-color:#d9d9d9}.healthstate[data-v-2ec76faa]{display:inline-block;border-width:1px;border-style:solid;border-radius:20px;padding:2px 10px;height:21px;line-height:16px;text-transform:uppercase;font-size:.75rem;letter-spacing:.3px;font-weight:500}",""]),e.exports=t},4706:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e._self._c;return e.observed?e.hasMonitors?t("SortableTable",{attrs:{rows:e.monitors,headers:e.MONITOR_HEADERS,"table-actions":!1,"row-actions":!1,"key-field":"checkStateId","default-sort-by":"state",paging:!0,"rows-per-page":40},scopedSlots:e._u([{key:"col:state",fn:function({row:e}){return[t("td",[t("HealthState",{attrs:{health:e.health}})],1)]}},{key:"col:monitor",fn:function({row:a}){return[t("td",[t("a",{attrs:{href:`https://${e.url}/#/components/${encodeURIComponent(e.urn)}`,target:"_blank",rel:"nofollow noopener noreferrer"}},[e._v(e._s(a.name))])])]}},{key:"col:lastUpdate",fn:function({row:e}){return[t("td",[t("LiveDate",{attrs:{value:e.lastUpdateTimestamp}})],1)]}}])}):t("div",[t("div",{staticClass:"card"},[t("span",[e._v(e._s(e.t("components.monitorTab.noMonitors")))])])]):t("div",[t("div",{staticClass:"card"},[t("span",[e._v(e._s(e.t("components.monitorTab.notEnabled")))])])])},s=[],o=a("9ce4"),n=a("90cd"),l=a("0fb1"),i=a("6d67"),d=a("d395"),c=a("7e32"),u=a("5ed2"),h={name:"MonitorTab",components:{SortableTable:l["a"],HealthState:u["a"],LiveDate:n["a"]},props:{resource:{type:Object,required:!0}},data(){return{MONITOR_HEADERS:c["a"],observed:!1,urn:"",url:"",monitors:[]}},computed:{...Object(o["a"])(["currentCluster"]),clusterId(){var e;return null===(e=this.currentCluster)||void 0===e?void 0:e.id},hasMonitors(){var e;return(null===(e=this.monitors)||void 0===e?void 0:e.length)>0},componentIdentifier(){var e,t,a,r;const s=null===(e=this.currentCluster)||void 0===e?void 0:e.spec.displayName;if(!s)return"";let o="urn:kubernetes:/"+s;return null!==(t=this.resource)&&void 0!==t&&null!==(t=t.metadata)&&void 0!==t&&t.namespace&&(o+=":"+this.resource.metadata.namespace),o+=`:${Object(i["m"])(null===(a=this.resource)||void 0===a||null===(a=a.type)||void 0===a?void 0:a.toLowerCase())}/${null===(r=this.resource)||void 0===r||null===(r=r.metadata)||void 0===r?void 0:r.name}`,o}},async fetch(){if(!Object(i["h"])(this.$store))return;const e=await Object(d["a"])(this.$store,this.clusterId);if(this.observed=(null===e||void 0===e?void 0:e.length)>0,!this.observed)return;const t=await Object(i["l"])(this.$store);this.urn=this.componentIdentifier;const a=await Object(i["j"])(this.$store,t,this.urn);a&&(this.monitors=a.syncedCheckStates,this.url=t.spec.url)}},p=h,f=(a("b821"),a("2be6")),v=Object(f["a"])(p,r,s,!1,null,"45c8d05f",null);t["default"]=v.exports},"5ed2":function(e,t,a){"use strict";var r=function(){var e,t=this,a=t._self._c;return a("span",{class:"healthstate healthstate-"+t.badgeColor},[t._v(" "+t._s(null!==(e=t.health)&&void 0!==e?e:"LOADING")+" ")])},s=[],o=a("a111"),n={name:"HealthState",props:{health:{type:String,default:null},color:{type:String,default:null}},computed:{badgeColor(){if(this.color)return this.color;switch(this.health){case o["b"].CLEAR:return"green";case o["b"].DEVIATING:return"orange";case o["b"].CRITICAL:return"red";case o["b"].UNKNOWN:case o["b"].NOT_MONITORED:return"grey";default:return"skeleton"}}}},l=n,i=(a("9ed1"),a("2be6")),d=Object(i["a"])(l,r,s,!1,null,"2ec76faa",null);t["a"]=d.exports},"626d":function(e,t,a){var r=a("93fa");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var s=a("0ed3").default;s("12982b34",r,!0,{sourceMap:!1,shadowMode:!1})},"93fa":function(e,t,a){var r=a("3c10");t=r(!1),t.push([e.i,"div.card[data-v-45c8d05f]{line-height:19px;font-size:14px;align-items:center;display:flex}span.spacer[data-v-45c8d05f]{margin-left:4px}",""]),e.exports=t},"9ed1":function(e,t,a){"use strict";a("da66")},b821:function(e,t,a){"use strict";a("626d")},d395:function(e,t,a){"use strict";async function r(e,t){var a;const r=await e.dispatch("cluster/request",{url:`/k8s/clusters/${t}/v1/apps.deployments`});return null===r||void 0===r||null===(a=r.data)||void 0===a?void 0:a.filter(e=>{var t;return(null===(t=e.metadata)||void 0===t?void 0:t.labels)&&("suse-observability-agent"===e.metadata.labels["app.kubernetes.io/name"]||"stackstate-k8s-agent"===e.metadata.labels["app.kubernetes.io/name"])})}a.d(t,"a",(function(){return r}))},da66:function(e,t,a){var r=a("12c2");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var s=a("0ed3").default;s("10012e96",r,!0,{sourceMap:!1,shadowMode:!1})}}]);
//# sourceMappingURL=observability-1.0.2.umd.min.5.js.map