(("undefined"!==typeof self?self:this)["webpackChunkobservability_2_1_0"]=("undefined"!==typeof self?self:this)["webpackChunkobservability_2_1_0"]||[]).push([[502],{1261:function(e,t,a){"use strict";async function r(e,t){const a=await e.dispatch("cluster/request",{url:`/k8s/clusters/${t}/v1/apps.deployments`});return a?.data?.filter((e=>e.metadata?.labels&&("suse-observability-agent"===e.metadata.labels["app.kubernetes.io/name"]||"stackstate-k8s-agent"===e.metadata.labels["app.kubernetes.io/name"])))}a.d(t,{X:function(){return r}})},4134:function(e,t,a){"use strict";a.d(t,{c:function(){return s}});var r=a(4373);function s(e,t){if(!e.type)return;const a=(0,r.Di)(e.type.toLowerCase());if(!t)throw new Error(`Cluster name is required for ${a} URN`);const s=e.metadata?.namespace,n=e.metadata?.name||e.name;switch(a){case r.sm:return`urn:cluster:/${t}`;case r.YL:return`urn:kubernetes:/${t}:node/${n}`;case r.fc:return`urn:kubernetes:/${t}:namespace/${n}`;default:return`urn:kubernetes:/${t}:${s}:${a}/${n}`}}},5502:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return b}});var r=a(9274);const s={class:"health-block"};function n(e,t,a,n,o,l){const c=(0,r.resolveComponent)("HealthState");return(0,r.openBlock)(),(0,r.createElementBlock)("div",s,[(0,r.createElementVNode)("p",null,(0,r.toDisplayString)(e.t("components.componentHealth.title")),1),(0,r.createVNode)(c,{class:"health-state-block",health:o.health},null,8,["health"])])}var o=a(5359),l=a(4373),c=a(4134),i=a(1261),u=a(4576),d=a(9091),h={name:"ComponentHealth",components:{HealthState:d.A},props:{resource:{type:Object,required:!0}},data(){return{observed:!1,health:u.z6.UNKNOWN,urn:""}},computed:{...(0,o.L8)(["currentCluster"]),clusterId(){return this.currentCluster?.id},componentIdentifier(){const e=this.currentCluster?.spec.displayName;return(0,c.c)(this.resource,e)}},async fetch(){if(!(0,l.Fg)(this.$store))return;const e=await(0,i.X)(this.$store,this.clusterId);if(this.observed=e.length>0,!this.observed)return;const t=await(0,l.$8)(this.$store);if(this.urn=this.componentIdentifier,!this.urn||!t)return;const a=await(0,l.of)(this.$store,t,this.urn);this.health=a.state.healthState}},p=(a(5293),a(7433));const f=(0,p.A)(h,[["render",n],["__scopeId","data-v-4c4a87e6"]]);var b=f},9091:function(e,t,a){"use strict";a.d(t,{A:function(){return i}});var r=a(9274);function s(e,t,a,s,n,o){return(0,r.openBlock)(),(0,r.createElementBlock)("span",{class:(0,r.normalizeClass)(`healthstate healthstate-${o.badgeColor}`)},(0,r.toDisplayString)(a.health??"LOADING"),3)}var n=a(4576),o={name:"HealthState",props:{health:{type:String,default:null},color:{type:String,default:null}},computed:{badgeColor(){if(this.color)return this.color;switch(this.health){case n.z6.CLEAR:return"green";case n.z6.DEVIATING:return"orange";case n.z6.CRITICAL:return"red";case n.z6.UNKNOWN:case n.z6.NOT_MONITORED:return"grey";default:return"skeleton"}}}},l=(a(3541),a(7433));const c=(0,l.A)(o,[["render",s],["__scopeId","data-v-2ec76faa"]]);var i=c},301:function(e,t,a){"use strict";a.r(t);var r=a(6758),s=a.n(r),n=a(6173),o=a.n(n),l=o()(s());l.push([e.id,".health-block[data-v-4c4a87e6]{line-height:19px;font-size:14px;align-items:center;display:flex}.health-block .health-state-block[data-v-4c4a87e6]{margin-left:12px}",""]),t["default"]=l},5685:function(e,t,a){"use strict";a.r(t);var r=a(6758),s=a.n(r),n=a(6173),o=a.n(n),l=o()(s());l.push([e.id,".healthstate-green[data-v-2ec76faa]{color:#2b9e40}.healthstate-orange[data-v-2ec76faa]{color:#ff8a1e}.healthstate-red[data-v-2ec76faa]{color:#eb5757}.healthstate-grey[data-v-2ec76faa]{color:#878e98}.healthstate-skeleton[data-v-2ec76faa]{cursor:wait;color:#d9d9d9;background-color:#d9d9d9}.healthstate[data-v-2ec76faa]{display:inline-block;border-width:1px;border-style:solid;border-radius:20px;padding:2px 10px;height:21px;line-height:16px;text-transform:uppercase;font-size:.75rem;letter-spacing:.3px;font-weight:500}",""]),t["default"]=l},5293:function(e,t,a){var r=a(301);r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals);var s=a(4825).A;s("b4d1ea92",r,!0,{sourceMap:!1,shadowMode:!1})},3541:function(e,t,a){var r=a(5685);r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals);var s=a(4825).A;s("ada042fc",r,!0,{sourceMap:!1,shadowMode:!1})}}]);
//# sourceMappingURL=observability-2.1.0.umd.min.502.js.map