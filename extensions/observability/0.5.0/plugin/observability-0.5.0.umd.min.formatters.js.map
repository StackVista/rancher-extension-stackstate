{"version":3,"sources":["webpack://observability-0.5.0/./components/Health/HealthState.vue?5f65","webpack://observability-0.5.0/./formatters/ComponentLinkedHealthState.vue","webpack://observability-0.5.0/formatters/ComponentLinkedHealthState.vue","webpack://observability-0.5.0/./formatters/ComponentLinkedHealthState.vue?8759","webpack://observability-0.5.0/./formatters/ComponentLinkedHealthState.vue?efa5","webpack://observability-0.5.0/./components/Health/HealthState.vue","webpack://observability-0.5.0/components/Health/HealthState.vue","webpack://observability-0.5.0/./components/Health/HealthState.vue?b6e1","webpack://observability-0.5.0/./components/Health/HealthState.vue?e71d","webpack://observability-0.5.0/./components/Health/HealthState.vue?40d7","webpack://observability-0.5.0/./modules/urn.ts","webpack://observability-0.5.0/./components/Health/HealthState.vue?dd98"],"names":["___CSS_LOADER_API_IMPORT___","exports","push","module","i","render","_vm","this","_c","_self","isLoading","attrs","color","data","href","health","HEALTH_STATE_TYPES","UNKNOWN","staticRenderFns","name","components","HealthState","props","value","type","String","default","row","Object","required","computed","mapGetters","componentIdentifier","_this$currentCluster","cluster","currentCluster","spec","displayName","buildUrn","error","isCrdLoaded","$store","settings","loadStackStateSettings","component","loadComponent","state","healthState","url","encodeURIComponent","_vm$health","class","badgeColor","_v","_s","CLEAR","DEVIATING","CRITICAL","NOT_MONITORED","clusterName","_component$metadata","_component$metadata2","kind","mapKind","toLowerCase","Error","namespace","metadata","STS_CLUSTER","STS_NODE","STS_NAMESPACE","content","__esModule","locals","add"],"mappings":"0LACA,IAAIA,EAA8B,EAAQ,QAC1CC,EAAUD,GAA4B,GAEtCC,EAAQC,KAAK,CAACC,EAAOC,EAAI,ygBAA0gB,KAEniBD,EAAOF,QAAUA,G,2CCNjB,IAAII,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAQF,EAAII,UAAWF,EAAG,cAAc,CAACG,MAAM,CAAC,MAAQL,EAAIM,SAAUN,EAAIO,KAAML,EAAG,IAAI,CAACG,MAAM,CAAC,KAAOL,EAAIO,KAAKC,KAAK,OAAS,SAAS,IAAM,iCAAiC,CAACN,EAAG,cAAc,CAACG,MAAM,CAAC,OAASL,EAAIO,KAAKE,OAAO,MAAQT,EAAIM,UAAU,GAAGJ,EAAG,cAAc,CAACG,MAAM,CAAC,OAASL,EAAIU,mBAAmBC,QAAQ,MAAQX,EAAIM,UAE9XM,EAAkB,G,4DCKP,GACfC,KAAA,6BACAC,WAAA,CAAAC,oBACAC,MAAA,CACAC,MAAA,CACAC,KAAAC,OACAC,QAAA,IAEAC,IAAA,CACAH,KAAAI,OACAC,UAAA,IAIAC,SAAA,IACAC,eAAA,oBAEAC,sBAAA,IAAAC,EACA,MAAAC,EAAA,QAAAD,EAAA,KAAAE,sBAAA,IAAAF,OAAA,EAAAA,EAAAG,KAAAC,YAEA,OAAAC,eAAA,KAAAX,IAAAO,IAGAtB,QACA,YAAAW,OACA,aACA,cACA,eACA,aACA,QACA,YAIAV,OACA,OACAG,0BACAN,WAAA,EACA6B,MAAA,KACA1B,KAAA,OAIA,cACA,IAAA2B,eAAA,KAAAC,QACA,OAGA,MAAAT,EAAA,KAAAA,oBAEA,GAAAA,EAMA,IACA,MAAAU,QAAAC,eAAA,KAAAF,QAEAG,QAAAC,eACA,KAAAJ,OACAC,EACAV,GAGA,KAAAnB,KAAA,CACAE,OAAA6B,EAAAE,MAAAC,YACAjC,KAAA,WAAA4B,EAAAN,KAAAY,oBAAAC,mBACAjB,MAGA,MAAAO,GACA,KAAAA,QACA,QACA,KAAA7B,WAAA,OAvBA,KAAAA,WAAA,IC1DkX,I,YCO9W,EAAY,eACd,EACAL,EACAa,GACA,EACA,KACA,KACA,MAIa,e,6CClBf,IAAIb,EAAS,WAAiB,IAAA6C,EAAK5C,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,OAAO,CAAC2C,MAAM,2BAA2B7C,EAAI8C,YAAc,CAAC9C,EAAI+C,GAAG,IAAI/C,EAAIgD,GAAa,QAAXJ,EAAC5C,EAAIS,cAAM,IAAAmC,IAAI,WAAW,QAEzKhC,EAAkB,G,YCCP,GACfC,KAAA,cACAG,MAAA,CACAP,OAAA,CAAAS,KAAAC,OAAAC,QAAA,MACAd,MAAA,CAAAY,KAAAC,OAAAC,QAAA,OAGAI,SAAA,CACAsB,aACA,QAAAxC,MACA,YAAAA,MAGA,YAAAG,QACA,KAAAC,OAAAuC,MACA,cACA,KAAAvC,OAAAwC,UACA,eACA,KAAAxC,OAAAyC,SACA,YACA,KAAAzC,OAAAC,QACA,KAAAD,OAAA0C,cACA,aACA,QACA,qBC3BkX,I,wBCQ9Wd,EAAY,eACd,EACAvC,EACAa,GACA,EACA,KACA,WACA,MAIa,OAAA0B,E,6CCnBf,W,kCCAA,kDAMM,SAAUN,EAASM,EAAgBe,GAA+B,IAAAC,EAAAC,EACtE,IAAKjB,EAAUpB,KACb,OAGF,MAAMsC,EAAOC,eAAQnB,EAAUpB,KAAKwC,eAEpC,IAAKL,EACH,MAAM,IAAIM,MAAM,gCAAiCH,SAGnD,MAAMI,EAA8B,QAArBN,EAAGhB,EAAUuB,gBAAQ,IAAAP,OAAA,EAAlBA,EAAoBM,UAChC/C,GAAyB,QAAlB0C,EAAAjB,EAAUuB,gBAAQ,IAAAN,OAAA,EAAlBA,EAAoB1C,OAAQyB,EAAUzB,KAEnD,OAAQ2C,GACR,KAAKM,OACH,MAAO,gBAAiBT,EAC1B,KAAKU,OACH,MAAO,mBAAoBV,UAAsBxC,IACnD,KAAKmD,OACH,MAAO,mBAAoBX,eAA2BxC,IACxD,QACE,MAAO,mBAAoBwC,KAAiBO,KAAeJ,KAAU3C,O,qBCzBzE,IAAIoD,EAAU,EAAQ,QACnBA,EAAQC,aAAYD,EAAUA,EAAQ7C,SACnB,kBAAZ6C,IAAsBA,EAAU,CAAC,CAACpE,EAAOC,EAAImE,EAAS,MAC7DA,EAAQE,SAAQtE,EAAOF,QAAUsE,EAAQE,QAE5C,IAAIC,EAAM,EAAQ,QAAqEhD,QAC1EgD,EAAI,WAAYH,GAAS,EAAM,CAAC,WAAY,EAAM,YAAa","file":"observability-0.5.0.umd.min.formatters.js","sourcesContent":["// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".healthstate-green[data-v-2ec76faa]{color:#2b9e40}.healthstate-orange[data-v-2ec76faa]{color:#ff8a1e}.healthstate-red[data-v-2ec76faa]{color:#eb5757}.healthstate-grey[data-v-2ec76faa]{color:#878e98}.healthstate-skeleton[data-v-2ec76faa]{cursor:wait;color:#d9d9d9;background-color:#d9d9d9}.healthstate[data-v-2ec76faa]{display:inline-block;border-width:1px;border-style:solid;border-radius:20px;padding:2px 10px;height:21px;line-height:16px;text-transform:uppercase;font-size:.75rem;letter-spacing:.3px;font-weight:500}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.isLoading)?_c('HealthState',{attrs:{\"color\":_vm.color}}):(_vm.data)?_c('a',{attrs:{\"href\":_vm.data.href,\"target\":\"_blank\",\"rel\":\"nofollow noopener noreferrer\"}},[_c('HealthState',{attrs:{\"health\":_vm.data.health,\"color\":_vm.color}})],1):_c('HealthState',{attrs:{\"health\":_vm.HEALTH_STATE_TYPES.UNKNOWN,\"color\":_vm.color}})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport { mapGetters } from 'vuex';\nimport HealthState from '../components/Health/HealthState';\nimport { loadStackStateSettings, loadComponent, isCrdLoaded } from '../modules/stackstate';\nimport { buildUrn } from '../modules/urn';\nimport { HEALTH_STATE_TYPES } from '../types/types';\n\nexport default {\n  name:       'ComponentLinkedHealthState',\n  components: { HealthState },\n  props:      {\n    value: {\n      type:    String,\n      default: '',\n    },\n    row: {\n      type:     Object,\n      required: true,\n    },\n  },\n\n  computed: {\n    ...mapGetters(['currentCluster']),\n\n    componentIdentifier() {\n      const cluster = this.currentCluster?.spec.displayName;\n\n      return buildUrn(this.row, cluster);\n    },\n\n    color() {\n      switch (this.value) {\n      case 'active':\n        return 'green';\n      case 'inactive':\n        return 'grey';\n      default:\n        return '';\n      }\n    },\n  },\n  data() {\n    return {\n      HEALTH_STATE_TYPES,\n      isLoading: true,\n      error:     null,\n      data:      null\n    };\n  },\n\n  async fetch() {\n    if (!isCrdLoaded(this.$store)) {\n      return;\n    }\n\n    const componentIdentifier = this.componentIdentifier;\n\n    if (!componentIdentifier) {\n      this.isLoading = false;\n\n      return;\n    }\n\n    try {\n      const settings = await loadStackStateSettings(this.$store);\n\n      const component = await loadComponent(\n        this.$store,\n        settings,\n        componentIdentifier\n      );\n\n      this.data = {\n        health: component.state.healthState,\n        href:   `https://${ settings.spec.url }/#/components/${ encodeURIComponent(\n          componentIdentifier\n        ) }`\n      };\n    } catch (error) {\n      this.error = error;\n    } finally {\n      this.isLoading = false;\n    }\n  },\n};\n</script>\n\n<template>\n  <HealthState v-if=\"isLoading\" :color=\"color\" />\n\n  <a\n    v-else-if=\"data\"\n    :href=\"data.href\"\n    target=\"_blank\"\n    rel=\"nofollow noopener noreferrer\"\n  >\n    <HealthState :health=\"data.health\" :color=\"color\" />\n  </a>\n\n  <HealthState v-else :health=\"HEALTH_STATE_TYPES.UNKNOWN\" :color=\"color\" />\n</template>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ComponentLinkedHealthState.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ComponentLinkedHealthState.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./ComponentLinkedHealthState.vue?vue&type=template&id=b0757386\"\nimport script from \"./ComponentLinkedHealthState.vue?vue&type=script&lang=js\"\nexport * from \"./ComponentLinkedHealthState.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('span',{class:`healthstate healthstate-${_vm.badgeColor}`},[_vm._v(\" \"+_vm._s(_vm.health ?? \"LOADING\")+\" \")])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport { HEALTH_STATE_TYPES } from '../../types/types';\n\nexport default {\n  name:  'HealthState',\n  props: {\n    health: { type: String, default: null },\n    color:  { type: String, default: null },\n  },\n\n  computed: {\n    badgeColor() {\n      if (this.color) {\n        return this.color;\n      }\n\n      switch (this.health) {\n      case HEALTH_STATE_TYPES.CLEAR:\n        return 'green';\n      case HEALTH_STATE_TYPES.DEVIATING:\n        return 'orange';\n      case HEALTH_STATE_TYPES.CRITICAL:\n        return 'red';\n      case HEALTH_STATE_TYPES.UNKNOWN:\n      case HEALTH_STATE_TYPES.NOT_MONITORED:\n        return 'grey';\n      default:\n        return 'skeleton';\n      }\n    },\n  },\n};\n</script>\n<template>\n  <span :class=\"`healthstate healthstate-${badgeColor}`\">\n    {{ health ?? \"LOADING\" }}\n  </span>\n</template>\n\n<style lang=\"scss\" scoped>\n.healthstate-green {\n  color: rgb(43, 158, 64);\n}\n\n.healthstate-orange {\n  color: rgb(255, 138, 30);\n}\n\n.healthstate-red {\n  color: rgb(235, 87, 87);\n}\n\n.healthstate-grey {\n  color: rgb(135, 142, 152);\n}\n\n.healthstate-skeleton {\n  cursor: wait;\n  color: rgb(217, 217, 217);\n  background-color: rgb(217, 217, 217);\n}\n\n.healthstate {\n  display: inline-block;\n  border-width: 1px;\n  border-style: solid;\n  border-radius: 20px;\n  padding: 2px 10px;\n  height: 21px;\n  line-height: 16px;\n  text-transform: uppercase;\n  font-size: 0.75rem;\n  letter-spacing: 0.3px;\n  font-weight: 500;\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HealthState.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HealthState.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./HealthState.vue?vue&type=template&id=2ec76faa&scoped=true\"\nimport script from \"./HealthState.vue?vue&type=script&lang=js\"\nexport * from \"./HealthState.vue?vue&type=script&lang=js\"\nimport style0 from \"./HealthState.vue?vue&type=style&index=0&id=2ec76faa&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2ec76faa\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../node_modules/vue-style-loader/index.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../node_modules/sass-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HealthState.vue?vue&type=style&index=0&id=2ec76faa&prod&lang=scss&scoped=true\"","import {\n  mapKind, STS_CLUSTER,\n  STS_NAMESPACE,\n  STS_NODE\n} from './stackstate';\n\nexport function buildUrn(component: any, clusterName: string | undefined): string | undefined {\n  if (!component.type) {\n    return undefined;\n  }\n\n  const kind = mapKind(component.type.toLowerCase());\n\n  if (!clusterName) {\n    throw new Error(`Cluster name is required for ${ kind } URN`);\n  }\n\n  const namespace = component.metadata?.namespace;\n  const name = component.metadata?.name || component.name;\n\n  switch (kind) {\n  case STS_CLUSTER:\n    return `urn:cluster:/${ clusterName }`;\n  case STS_NODE:\n    return `urn:kubernetes:/${ clusterName }:node/${ name }`;\n  case STS_NAMESPACE:\n    return `urn:kubernetes:/${ clusterName }:namespace/${ name }`;\n  default:\n    return `urn:kubernetes:/${ clusterName }:${ namespace }:${ kind }/${ name }`;\n  }\n}\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../node_modules/sass-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HealthState.vue?vue&type=style&index=0&id=2ec76faa&prod&lang=scss&scoped=true\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"10012e96\", content, true, {\"sourceMap\":false,\"shadowMode\":false});"],"sourceRoot":""}