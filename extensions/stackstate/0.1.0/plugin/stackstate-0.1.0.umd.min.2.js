(("undefined"!==typeof self?self:this)["webpackJsonpstackstate_0_1_0"]=("undefined"!==typeof self?self:this)["webpackJsonpstackstate_0_1_0"]||[]).push([[2],{"88a4":function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t._self._c;return t.loading?a("div",[a("Loading")],1):t.isObserved?a("div",[a("div",{staticClass:"card"},[t._m(1),a("span",{staticClass:"spacer"},[t._v(" ")]),a("div",[a("span",[t._v("Cluster health:")]),a("span",{staticClass:"spacer"},[t._v(" ")]),a("HealthState",{attrs:{state:"observed",color:"green"}})],1)]),a("div",[a("span",[t._v("Component healths:")]),a("span",{staticClass:"spacer"},[t._v(" ")]),t._v(" "+t._s(t.countDeviating)+" "),a("span",{staticClass:"spacer"},[t._v(" ")]),a("HealthDisc",{attrs:{state:"DEVIATING"}}),a("span",{staticClass:"spacer"},[t._v(" ")]),t._v(" "+t._s(t.countCritical)+" "),a("span",{staticClass:"spacer"},[t._v(" ")]),a("HealthDisc",{attrs:{state:"CRITICAL"}})],1)]):a("div",[a("div",{staticClass:"card"},[t._m(0),a("span",{staticClass:"spacer"},[t._v(" ")]),a("div",[a("span",[t._v("Cluster is")]),a("span",{staticClass:"spacer"},[t._v(" ")]),a("HealthState",{attrs:{state:"unobserved",color:"grey"}})],1)]),a("span",[t._v("Cluster is not observed by StackState. Please "),a("a",{attrs:{href:`/c/${t.resource.id}/apps/charts/chart?repo-type=cluster&repo=rancher-partner-charts&chart=stackstate-k8s-agent`}},[t._v("install")]),t._v(" the agent")])])},i=[function(){var t=this,a=t._self._c;return a("span",[a("img",{staticStyle:{width:"50px"},attrs:{src:e("a16d"),alt:"StackState logo"}})])},function(){var t=this,a=t._self._c;return a("span",[a("img",{staticStyle:{width:"50px"},attrs:{src:e("a16d"),alt:"StackState logo"}})])}],r=e("15ca"),n=e("dd22"),c=e("d395"),l=e("706e"),o=e("b5a5"),d={name:"StackStateObservedCard",components:{Loading:r["a"],HealthState:l["a"],HealthDisc:o["a"]},props:{resource:Object},computed:{countDeviating(){return this.deviating},countHealthy(){return this.healthy},countCritical(){return this.critical},isObserved(){return this.observed.length>0}},data(){return{observed:void 0,snapshot:void 0,deviating:0,critical:0,healthy:0,loading:!0}},async fetch(){const t=await Object(c["a"])(this.$store,this.resource.id),a=await Object(n["e"])(this.$store);this.snapshot=await Object(n["a"])(this.$store,`not healthstate in ("CLEAR", "UNKNOWN") AND label = "cluster-name:${this.resource.spec.displayName}"`,a);for(const e of this.snapshot.viewSnapshotResponse.components)"DEVIATING"===e.state.healthState?this.deviating++:"CRITICAL"===e.state.healthState?this.critical++:"HEALTHY"===e.state.healthState&&this.healthy++;this.observed=t,this.loading=!1}},p=d,h=(e("d031"),e("d802")),v=Object(h["a"])(p,s,i,!1,null,"1b40eef6",null);a["default"]=v.exports},d031:function(t,a,e){"use strict";e("da99")},d707:function(t,a,e){var s=e("5eaa");a=s(!1),a.push([t.i,"div.card[data-v-1b40eef6]{line-height:19px;font-size:14px;align-items:center;display:flex}span.spacer[data-v-1b40eef6]{margin-left:4px}.alert[data-v-1b40eef6]{display:flex;align-items:center;padding:10px;margin:10px 0;border-radius:5px}",""]),t.exports=a},da99:function(t,a,e){var s=e("d707");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);var i=e("0ed3").default;i("73e869ee",s,!0,{sourceMap:!1,shadowMode:!1})}}]);
//# sourceMappingURL=stackstate-0.1.0.umd.min.2.js.map