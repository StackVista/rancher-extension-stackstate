{"version":3,"sources":["webpack://stackstate-0.3.0/./formatters/ComponentLinkedHealthState.vue","webpack://stackstate-0.3.0/formatters/ComponentLinkedHealthState.vue","webpack://stackstate-0.3.0/./formatters/ComponentLinkedHealthState.vue?5b57","webpack://stackstate-0.3.0/./formatters/ComponentLinkedHealthState.vue?8877","webpack://stackstate-0.3.0/./components/HealthState.vue?7774","webpack://stackstate-0.3.0/./components/HealthState.vue?1596","webpack://stackstate-0.3.0/./components/HealthState.vue","webpack://stackstate-0.3.0/components/HealthState.vue","webpack://stackstate-0.3.0/./components/HealthState.vue?db2e","webpack://stackstate-0.3.0/./components/HealthState.vue?7fa8","webpack://stackstate-0.3.0/./modules/urn.ts","webpack://stackstate-0.3.0/./components/HealthState.vue?4da7"],"names":["render","_vm","this","_c","_self","componentUrn","attrs","url","encodeURIComponent","componentIdentifier","health","color","_e","staticRenderFns","name","components","HealthState","props","value","type","String","default","row","Object","required","computed","mapGetters","_this$currentCluster","cluster","currentCluster","spec","displayName","buildUrn","data","creds","loadStackStateSettings","$store","component","loadComponent","state","healthState","content","__esModule","module","i","locals","exports","add","class","badgeColor","_v","_s","clusterName","_component$metadata","_component$metadata2","kind","mapKind","toLowerCase","Error","namespace","metadata","STS_CLUSTER","STS_NODE","STS_NAMESPACE","___CSS_LOADER_API_IMPORT___","push"],"mappings":"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","file":"stackstate-0.3.0.umd.min.formatters.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.componentUrn)?_c('a',{attrs:{\"href\":`https://${_vm.url}/#/components/${encodeURIComponent(_vm.componentIdentifier)}`,\"target\":\"_blank\"}},[_c('HealthState',{attrs:{\"state\":_vm.health,\"color\":_vm.color}})],1):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport { mapGetters } from 'vuex';\nimport HealthState from '../components/HealthState';\nimport { loadStackStateSettings, mapKind, loadComponent } from '../modules/stackstate';\nimport { buildUrn } from '../modules/urn';\n\nexport default {\n  name:       'ComponentLinkedHealthState',\n  components: { HealthState },\n  props:      {\n    value: {\n      type:    String,\n      default: ''\n    },\n    row: {\n      type:     Object,\n      required: true\n    },\n  },\n\n  computed: {\n    ...mapGetters(['currentCluster']),\n\n    componentIdentifier() {\n      const cluster = this.currentCluster?.spec.displayName;\n\n      return buildUrn(this.row, cluster);\n    },\n\n    color() {\n      switch (this.value) {\n      case 'active':\n        return 'green';\n      case 'inactive':\n        return 'grey';\n      default:\n        return '';\n      }\n    }\n  },\n  data() {\n    return {\n      health:       '',\n      url:          '',\n      componentUrn: ''\n    };\n  },\n\n  async fetch() {\n    const creds = await loadStackStateSettings(this.$store);\n\n    this.health = 'UNKNOWN';\n\n    this.componentUrn = this.componentIdentifier;\n    if (!this.componentUrn) {\n      this.health = 'UNKNOWN';\n\n      return;\n    }\n    const component = await loadComponent(this.$store, creds, this.componentUrn);\n\n    this.health = component.state.healthState;\n    this.url = creds.spec.url;\n  }\n};\n</script>\n\n<template>\n  <a v-if=\"componentUrn\" :href=\"`https://${url}/#/components/${encodeURIComponent(componentIdentifier)}`\" target=\"_blank\"><HealthState :state=\"health\" :color=\"color\" /></a>\n</template>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./ComponentLinkedHealthState.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./ComponentLinkedHealthState.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./ComponentLinkedHealthState.vue?vue&type=template&id=32f06405\"\nimport script from \"./ComponentLinkedHealthState.vue?vue&type=script&lang=js\"\nexport * from \"./ComponentLinkedHealthState.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/vue-style-loader/index.js??ref--10-oneOf-1-0!../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../node_modules/sass-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./HealthState.vue?vue&type=style&index=0&id=9f0602f8&prod&lang=scss&scoped=true\"","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../node_modules/sass-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./HealthState.vue?vue&type=style&index=0&id=9f0602f8&prod&lang=scss&scoped=true\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"6585f7b5\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('span',[_c('div',{class:`healthstate-${_vm.badgeColor}`},[_c('span',[_vm._v(_vm._s(_vm.state))])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nexport default {\n  name:  'HealthState',\n  props: {\n    state: { type: String, default: 'UNKNOWN' },\n    color: { type: String, default: null }\n  },\n\n  computed: {\n    badgeColor() {\n      if (this.color) {\n        return this.color;\n      } else {\n        switch (this.state) {\n        case 'CLEAR':\n          return 'green';\n        case 'DEVIATING':\n          return 'orange';\n        case 'CRITICAL':\n          return 'red';\n        case 'UNKNOWN':\n        case 'NOT MONITORED':\n          return 'grey';\n        }\n      }\n\n      return this.state;\n    },\n  },\n};\n</script>\n<template>\n  <span>\n    <div :class=\"`healthstate-${badgeColor}`\">\n      <span>{{ state }}</span>\n    </div>\n  </span>\n</template>\n\n<style lang=\"scss\" scoped>\n.healthstate-green {\n  color: rgb(43, 158, 64);\n  border-color: rgb(43, 158, 64);\n}\n\n.healthstate-orange {\n  color: rgb(255, 138, 30);\n  border-color: rgb(255, 138, 30);\n}\n\n.healthstate-red {\n  border-color: rgb(235, 87, 87);\n  color: rgb(235, 87, 87);\n}\n\n.healthstate-grey {\n  border-color: rgb(135, 142, 152);\n  color: rgb(135, 142, 152);\n}\n\n.healthstate-orange,\n.healthstate-red,\n.healthstate-grey,\n.healthstate-green {\n  display: inline-block;\n  border-width: 1px;\n  border-style: solid;\n  border-radius: 20px;\n  padding: 2px 10px;\n  height: 21px;\n  line-height: 16px;\n  text-transform: uppercase;\n  font-size: 0.75rem;\n  letter-spacing: 0.3px;\n  font-weight: 500;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./HealthState.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./HealthState.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./HealthState.vue?vue&type=template&id=9f0602f8&scoped=true\"\nimport script from \"./HealthState.vue?vue&type=script&lang=js\"\nexport * from \"./HealthState.vue?vue&type=script&lang=js\"\nimport style0 from \"./HealthState.vue?vue&type=style&index=0&id=9f0602f8&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"9f0602f8\",\n  null\n  \n)\n\nexport default component.exports","import {\n  mapKind, STS_CLUSTER,\n  STS_NAMESPACE,\n  STS_NODE\n} from './stackstate';\n\nexport function buildUrn(component: any, clusterName: string | undefined): string | undefined {\n  if (!component.type) {\n    return undefined;\n  }\n\n  const kind = mapKind(component.type.toLowerCase());\n\n  if (!clusterName) {\n    throw new Error(`Cluster name is required for ${ kind } URN`);\n  }\n\n  const namespace = component.metadata?.namespace;\n  const name = component.metadata?.name || component.name;\n\n  switch (kind) {\n  case STS_CLUSTER:\n    return `urn:cluster:/${ clusterName }`;\n  case STS_NODE:\n    return `urn:kubernetes:/${ clusterName }:node/${ name }`;\n  case STS_NAMESPACE:\n    return `urn:kubernetes:/${ clusterName }:namespace/${ name }`;\n  default:\n    return `urn:kubernetes:/${ clusterName }:${ namespace }:${ kind }/${ name }`;\n  }\n}\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".healthstate-green[data-v-9f0602f8]{color:#2b9e40;border-color:#2b9e40}.healthstate-orange[data-v-9f0602f8]{color:#ff8a1e;border-color:#ff8a1e}.healthstate-red[data-v-9f0602f8]{border-color:#eb5757;color:#eb5757}.healthstate-grey[data-v-9f0602f8]{border-color:#878e98;color:#878e98}.healthstate-green[data-v-9f0602f8],.healthstate-grey[data-v-9f0602f8],.healthstate-orange[data-v-9f0602f8],.healthstate-red[data-v-9f0602f8]{display:inline-block;border-width:1px;border-style:solid;border-radius:20px;padding:2px 10px;height:21px;line-height:16px;text-transform:uppercase;font-size:.75rem;letter-spacing:.3px;font-weight:500}\", \"\"]);\n// Exports\nmodule.exports = exports;\n"],"sourceRoot":""}