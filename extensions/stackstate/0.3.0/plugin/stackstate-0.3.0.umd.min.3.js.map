{"version":3,"sources":["webpack://stackstate-0.3.0/./components/HealthDisc.vue?4c6f","webpack://stackstate-0.3.0/./components/HealthState.vue?7774","webpack://stackstate-0.3.0/./components/HealthDisc.vue?35c6","webpack://stackstate-0.3.0/./components/HealthState.vue?1596","webpack://stackstate-0.3.0//home/runner/work/rancher-extension-stackstate/rancher-extension-stackstate/node_modules/@vue/cli-service/node_modules/css-loader/dist/runtime/getUrl.js","webpack://stackstate-0.3.0/./components/StackStateObservedCard.vue?ac4c","webpack://stackstate-0.3.0/./components/StackStateObservedCard.vue?ffd4","webpack://stackstate-0.3.0/./components/HealthState.vue","webpack://stackstate-0.3.0/components/HealthState.vue","webpack://stackstate-0.3.0/./components/HealthState.vue?db2e","webpack://stackstate-0.3.0/./components/HealthState.vue?7fa8","webpack://stackstate-0.3.0/./components/StackStateObservedCard.vue","webpack://stackstate-0.3.0/./components/HealthDisc.vue","webpack://stackstate-0.3.0/components/HealthDisc.vue","webpack://stackstate-0.3.0/./components/HealthDisc.vue?3191","webpack://stackstate-0.3.0/./components/HealthDisc.vue?d3b0","webpack://stackstate-0.3.0/components/StackStateObservedCard.vue","webpack://stackstate-0.3.0/./components/StackStateObservedCard.vue?5bd7","webpack://stackstate-0.3.0/./components/StackStateObservedCard.vue?25d9","webpack://stackstate-0.3.0/./components/HealthDisc.vue?8911","webpack://stackstate-0.3.0/./sts-color.svg","webpack://stackstate-0.3.0/./modules/observed.ts","webpack://stackstate-0.3.0/./components/StackStateObservedCard.vue?5f4b","webpack://stackstate-0.3.0/./components/HealthState.vue?4da7"],"names":["___CSS_LOADER_API_IMPORT___","exports","push","module","i","content","__esModule","default","locals","add","url","options","test","slice","hash","needQuotes","concat","replace","render","_vm","this","_c","_self","class","badgeColor","_v","_s","state","staticRenderFns","name","props","type","String","color","computed","component","staticClass","_m","loading","isObserved","attrs","countDeviating","countCritical","resource","id","components","HealthState","HealthDisc","Object","deviating","countHealthy","healthy","critical","observed","length","data","undefined","snapshot","obs","isStackStateObserved","$store","creds","loadStackStateSettings","getSnapshot","spec","displayName","viewSnapshotResponse","healthState","async","store","clusterId","response","dispatch","filter","depl","metadata","labels","___CSS_LOADER_GET_URL_IMPORT___","___CSS_LOADER_URL_IMPORT_0___","___CSS_LOADER_URL_IMPORT_1___","___CSS_LOADER_URL_REPLACEMENT_0___","___CSS_LOADER_URL_REPLACEMENT_1___"],"mappings":"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","file":"stackstate-0.3.0.umd.min.3.js","sourcesContent":["// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".healthdisc-CLEAR[data-v-1b4341ea]{background-color:#2b9e40}.healthdisc-DEVIATING[data-v-1b4341ea]{background-color:#ff8a1e}.healthdisc-CRITICAL[data-v-1b4341ea]{background-color:#eb5757}.healthdisc-UNKNOWN[data-v-1b4341ea]{background-color:#878e98}.healthdisc-CLEAR[data-v-1b4341ea],.healthdisc-CRITICAL[data-v-1b4341ea],.healthdisc-DEVIATING[data-v-1b4341ea],.healthdisc-UNKNOWN[data-v-1b4341ea]{display:inline-block;box-sizing:border-box;border-radius:9999px;width:8px;height:8px}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","export * from \"-!../../../node_modules/vue-style-loader/index.js??ref--10-oneOf-1-0!../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../node_modules/sass-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./HealthState.vue?vue&type=style&index=0&id=9f0602f8&prod&lang=scss&scoped=true\"","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../node_modules/sass-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./HealthDisc.vue?vue&type=style&index=0&id=1b4341ea&prod&lang=scss&scoped=true\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"663f5db5\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../node_modules/sass-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./HealthState.vue?vue&type=style&index=0&id=9f0602f8&prod&lang=scss&scoped=true\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"6585f7b5\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","\"use strict\";\n\nmodule.exports = function (url, options) {\n  if (!options) {\n    // eslint-disable-next-line no-param-reassign\n    options = {};\n  } // eslint-disable-next-line no-underscore-dangle, no-param-reassign\n\n\n  url = url && url.__esModule ? url.default : url;\n\n  if (typeof url !== 'string') {\n    return url;\n  } // If url is already wrapped in quotes, remove them\n\n\n  if (/^['\"].*['\"]$/.test(url)) {\n    // eslint-disable-next-line no-param-reassign\n    url = url.slice(1, -1);\n  }\n\n  if (options.hash) {\n    // eslint-disable-next-line no-param-reassign\n    url += options.hash;\n  } // Should url be wrapped?\n  // See https://drafts.csswg.org/css-values-3/#urls\n\n\n  if (/[\"'() \\t\\n]/.test(url) || options.needQuotes) {\n    return \"\\\"\".concat(url.replace(/\"/g, '\\\\\"').replace(/\\n/g, '\\\\n'), \"\\\"\");\n  }\n\n  return url;\n};","export * from \"-!../../../node_modules/vue-style-loader/index.js??ref--10-oneOf-1-0!../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../node_modules/sass-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./StackStateObservedCard.vue?vue&type=style&index=0&id=2af00ec4&prod&lang=scss&scoped=true\"","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../node_modules/sass-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./StackStateObservedCard.vue?vue&type=style&index=0&id=2af00ec4&prod&lang=scss&scoped=true\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"26a843aa\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('span',[_c('div',{class:`healthstate-${_vm.badgeColor}`},[_c('span',[_vm._v(_vm._s(_vm.state))])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nexport default {\n  name:  'HealthState',\n  props: {\n    state: { type: String, default: 'UNKNOWN' },\n    color: { type: String, default: null }\n  },\n\n  computed: {\n    badgeColor() {\n      if (this.color) {\n        return this.color;\n      } else {\n        switch (this.state) {\n        case 'CLEAR':\n          return 'green';\n        case 'DEVIATING':\n          return 'orange';\n        case 'CRITICAL':\n          return 'red';\n        case 'UNKNOWN':\n        case 'NOT MONITORED':\n          return 'grey';\n        }\n      }\n\n      return this.state;\n    },\n  },\n};\n</script>\n<template>\n  <span>\n    <div :class=\"`healthstate-${badgeColor}`\">\n      <span>{{ state }}</span>\n    </div>\n  </span>\n</template>\n\n<style lang=\"scss\" scoped>\n.healthstate-green {\n  color: rgb(43, 158, 64);\n  border-color: rgb(43, 158, 64);\n}\n\n.healthstate-orange {\n  color: rgb(255, 138, 30);\n  border-color: rgb(255, 138, 30);\n}\n\n.healthstate-red {\n  border-color: rgb(235, 87, 87);\n  color: rgb(235, 87, 87);\n}\n\n.healthstate-grey {\n  border-color: rgb(135, 142, 152);\n  color: rgb(135, 142, 152);\n}\n\n.healthstate-orange,\n.healthstate-red,\n.healthstate-grey,\n.healthstate-green {\n  display: inline-block;\n  border-width: 1px;\n  border-style: solid;\n  border-radius: 20px;\n  padding: 2px 10px;\n  height: 21px;\n  line-height: 16px;\n  text-transform: uppercase;\n  font-size: 0.75rem;\n  letter-spacing: 0.3px;\n  font-weight: 500;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./HealthState.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./HealthState.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./HealthState.vue?vue&type=template&id=9f0602f8&scoped=true\"\nimport script from \"./HealthState.vue?vue&type=script&lang=js\"\nexport * from \"./HealthState.vue?vue&type=script&lang=js\"\nimport style0 from \"./HealthState.vue?vue&type=style&index=0&id=9f0602f8&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"9f0602f8\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"card\"},[_vm._m(0),_c('span',{staticClass:\"spacer\"},[_vm._v(\" \")]),_c('div',{staticClass:\"col\"},[(_vm.loading)?_c('div',[_vm._m(1)]):(!_vm.isObserved)?_c('div',[_c('div',[_c('span',[_vm._v(\"Cluster is\")]),_c('span',{staticClass:\"spacer\"},[_vm._v(\" \")]),_c('HealthState',{attrs:{\"state\":\"unobserved\",\"color\":\"grey\"}})],1),_vm._m(2),_c('div',[_c('span',[_vm._v(\"Cluster is not observed by StackState. Please \"),_c('a',{attrs:{\"href\":`/c/${_vm.resource.id}/apps/charts/chart?repo-type=cluster&repo=rancher-partner-charts&chart=stackstate-k8s-agent`}},[_vm._v(\"install\")]),_vm._v(\" the agent\")])])]):_c('div',[_c('div',[_c('span',[_vm._v(\" Cluster health: \")]),_c('span',{staticClass:\"spacer\"},[_vm._v(\" \")]),_c('HealthState',{attrs:{\"state\":\"observed\",\"color\":\"green\"}})],1),_vm._m(3),_c('div',[_c('span',[_vm._v(\"Component healths:\")]),_c('div',[_c('HealthDisc',{attrs:{\"state\":\"DEVIATING\"}}),_vm._v(\" Deviating: \"),_c('span',{staticClass:\"spacer\"},[_vm._v(\" \")]),_vm._v(\" \"+_vm._s(_vm.countDeviating)+\" \")],1),_c('div',[_c('HealthDisc',{attrs:{\"state\":\"CRITICAL\"}}),_vm._v(\" Critical: \"),_c('span',{staticClass:\"spacer\"},[_vm._v(\" \")]),_vm._v(\" \"+_vm._s(_vm.countCritical)+\" \")],1)])])])])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',[_c('span',[_c('div',{staticClass:\"logo\"})])])\n},function (){var _vm=this,_c=_vm._self._c;return _c('div',[_c('span',[_vm._v(\" Connecting to Observability... \")])])\n},function (){var _vm=this,_c=_vm._self._c;return _c('div',[_c('span',{staticClass:\"spacer\"},[_vm._v(\" \")])])\n},function (){var _vm=this,_c=_vm._self._c;return _c('div',[_c('span',{staticClass:\"spacer\"},[_vm._v(\" \")])])\n}]\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{class:`healthdisc-${_vm.state}`})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nexport default {\n  name:  'HealthDisc',\n  props: { state: { type: String, default: 'UNKNOWN' } },\n};\n</script>\n<template>\n  <div :class=\"`healthdisc-${state}`\" />\n</template>\n<style lang=\"scss\" scoped>\n.healthdisc-CLEAR {\n  background-color: rgb(43, 158, 64);\n}\n.healthdisc-DEVIATING {\n  background-color: rgb(255, 138, 30);\n}\n.healthdisc-CRITICAL {\n  background-color: rgb(235, 87, 87);\n}\n.healthdisc-UNKNOWN {\n  background-color: rgb(135, 142, 152);\n}\n\n.healthdisc-CLEAR,\n.healthdisc-DEVIATING,\n.healthdisc-CRITICAL,\n.healthdisc-UNKNOWN {\n  display: inline-block;\n  box-sizing: border-box;\n  border-radius: 9999px;\n  width: 8px;\n  height: 8px;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./HealthDisc.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./HealthDisc.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./HealthDisc.vue?vue&type=template&id=1b4341ea&scoped=true\"\nimport script from \"./HealthDisc.vue?vue&type=script&lang=js\"\nexport * from \"./HealthDisc.vue?vue&type=script&lang=js\"\nimport style0 from \"./HealthDisc.vue?vue&type=style&index=0&id=1b4341ea&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1b4341ea\",\n  null\n  \n)\n\nexport default component.exports","<script>\nimport { getSnapshot, loadStackStateSettings } from '../modules/stackstate';\nimport { isStackStateObserved } from '../modules/observed';\nimport HealthState from './HealthState.vue';\nimport HealthDisc from './HealthDisc.vue';\n\nexport default {\n  name:       'StackStateObservedCard',\n  components: { HealthState, HealthDisc },\n  props:      { resource: Object },\n  computed:   {\n    countDeviating() {\n      return this.deviating;\n    },\n    countHealthy() {\n      return this.healthy;\n    },\n    countCritical() {\n      return this.critical;\n    },\n    isObserved() {\n      return this.observed.length > 0;\n    },\n  },\n  data() {\n    return {\n      observed:  undefined,\n      snapshot:  undefined,\n      deviating: 0,\n      critical:  0,\n      healthy:   0,\n      loading:   true,\n    };\n  },\n  async fetch() {\n    const obs = await isStackStateObserved(this.$store, this.resource.id);\n    const creds = await loadStackStateSettings(this.$store);\n\n    this.snapshot = await getSnapshot(this.$store, `not healthstate in (\"CLEAR\", \"UNKNOWN\") AND label = \"cluster-name:${ this.resource.spec.displayName }\"`, creds);\n    for (const component of this.snapshot.viewSnapshotResponse.components) {\n      if (component.state.healthState === 'DEVIATING') {\n        this.deviating++;\n      } else if (component.state.healthState === 'CRITICAL') {\n        this.critical++;\n      } else if (component.state.healthState === 'HEALTHY') {\n        this.healthy++;\n      }\n    }\n    this.observed = obs;\n    this.loading = false;\n  },\n};\n</script>\n<template>\n  <div class=\"card\">\n    <div>\n      <span><div class=\"logo\" /></span>\n    </div>\n    <span class=\"spacer\">&nbsp;</span>\n    <div class=\"col\">\n      <div v-if=\"loading\">\n        <div>\n          <span>\n            Connecting to Observability...\n          </span>\n        </div>\n      </div>\n      <div v-else-if=\"!isObserved\">\n        <div>\n          <span>Cluster is</span>\n          <span class=\"spacer\">&nbsp;</span>\n          <HealthState state=\"unobserved\" color=\"grey\" />\n        </div>\n        <div><span class=\"spacer\">&nbsp;</span></div>\n        <div><span>Cluster is not observed by StackState. Please <a :href=\"`/c/${resource.id}/apps/charts/chart?repo-type=cluster&repo=rancher-partner-charts&chart=stackstate-k8s-agent`\">install</a> the agent</span></div>\n      </div>\n      <div v-else>\n        <div>\n          <span>\n            Cluster health:\n          </span>\n          <span class=\"spacer\">&nbsp;</span>\n          <HealthState state=\"observed\" color=\"green\" />\n        </div>\n        <div><span class=\"spacer\">&nbsp;</span></div>\n        <div>\n          <span>Component healths:</span>\n          <div>\n            <HealthDisc state=\"DEVIATING\" />\n            Deviating:\n            <span class=\"spacer\">&nbsp;</span>\n            {{ countDeviating }}\n          </div>\n          <div>\n            <HealthDisc state=\"CRITICAL\" />\n            Critical:\n            <span class=\"spacer\">&nbsp;</span>\n            {{ countCritical }}\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n<style lang=\"scss\" scoped>\ndiv.card {\n  line-height: 19px;\n  font-size: 14px;\n  align-items: center;\n  display: flex;\n}\n\nspan.header {\n  font-size: 18px;\n}\n\ndiv.coldiv {\n  padding-top: 10px;\n}\n\ndiv.col {\n  display: flex;\n  flex-direction: column;\n}\n\nspan.spacer {\n  margin-left: 4px;\n}\n\n  .alert {\n    display: flex;\n    align-items: center;\n    padding: 10px;\n    margin: 10px 0;\n    border-radius: 5px;\n  }\n\ndiv.logo {\n  background-size: contain;\n  background-repeat: no-repeat;\n  width: 100px;\n  height: 100px;\n}\n\n.theme-light div.logo {\n  background-image: url('../sts-color.svg');\n}\n\n.theme-dark div.logo {\n  background-image: url('../sts.svg');\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./StackStateObservedCard.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./StackStateObservedCard.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./StackStateObservedCard.vue?vue&type=template&id=2af00ec4&scoped=true\"\nimport script from \"./StackStateObservedCard.vue?vue&type=script&lang=js\"\nexport * from \"./StackStateObservedCard.vue?vue&type=script&lang=js\"\nimport style0 from \"./StackStateObservedCard.vue?vue&type=style&index=0&id=2af00ec4&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2af00ec4\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/vue-style-loader/index.js??ref--10-oneOf-1-0!../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../node_modules/sass-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./HealthDisc.vue?vue&type=style&index=0&id=1b4341ea&prod&lang=scss&scoped=true\"","module.exports = __webpack_public_path__ + \"img/sts-color.ff0814a4.svg\";","export async function isStackStateObserved(store: any, clusterId: string): Promise<any> {\n  const response = await store.dispatch(`cluster/request`, { url: `/k8s/clusters/${ clusterId }/v1/apps.deployments` });\n\n  return response.data.filter((depl: any) => depl.metadata.labels && depl.metadata.labels['app.kubernetes.io/name'] === 'stackstate-k8s-agent');\n}\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_GET_URL_IMPORT___ = require(\"../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/runtime/getUrl.js\");\nvar ___CSS_LOADER_URL_IMPORT_0___ = require(\"../sts-color.svg\");\nvar ___CSS_LOADER_URL_IMPORT_1___ = require(\"../sts.svg\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\nvar ___CSS_LOADER_URL_REPLACEMENT_0___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_0___);\nvar ___CSS_LOADER_URL_REPLACEMENT_1___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_1___);\n// Module\nexports.push([module.id, \"div.card[data-v-2af00ec4]{line-height:19px;font-size:14px;align-items:center;display:flex}span.header[data-v-2af00ec4]{font-size:18px}div.coldiv[data-v-2af00ec4]{padding-top:10px}div.col[data-v-2af00ec4]{display:flex;flex-direction:column}span.spacer[data-v-2af00ec4]{margin-left:4px}.alert[data-v-2af00ec4]{display:flex;align-items:center;padding:10px;margin:10px 0;border-radius:5px}div.logo[data-v-2af00ec4]{background-size:contain;background-repeat:no-repeat;width:100px;height:100px}.theme-light div.logo[data-v-2af00ec4]{background-image:url(\" + ___CSS_LOADER_URL_REPLACEMENT_0___ + \")}.theme-dark div.logo[data-v-2af00ec4]{background-image:url(\" + ___CSS_LOADER_URL_REPLACEMENT_1___ + \")}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".healthstate-green[data-v-9f0602f8]{color:#2b9e40;border-color:#2b9e40}.healthstate-orange[data-v-9f0602f8]{color:#ff8a1e;border-color:#ff8a1e}.healthstate-red[data-v-9f0602f8]{border-color:#eb5757;color:#eb5757}.healthstate-grey[data-v-9f0602f8]{border-color:#878e98;color:#878e98}.healthstate-green[data-v-9f0602f8],.healthstate-grey[data-v-9f0602f8],.healthstate-orange[data-v-9f0602f8],.healthstate-red[data-v-9f0602f8]{display:inline-block;border-width:1px;border-style:solid;border-radius:20px;padding:2px 10px;height:21px;line-height:16px;text-transform:uppercase;font-size:.75rem;letter-spacing:.3px;font-weight:500}\", \"\"]);\n// Exports\nmodule.exports = exports;\n"],"sourceRoot":""}